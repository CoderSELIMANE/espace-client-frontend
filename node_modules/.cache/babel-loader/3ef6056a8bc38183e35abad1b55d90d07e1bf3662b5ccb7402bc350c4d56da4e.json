{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\modifier\\\\Gestion_bibliotheque\\\\espace_client_app\\\\frontend\\\\src\\\\pages\\\\Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '../contexts/AppContext';\nimport authService from '../services/authService';\nimport ModernNavbar from '../components/ModernNavbar';\nimport useAuth from '../hooks/useAuth';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Profile = () => {\n  _s();\n  const navigate = useNavigate();\n  const {\n    actions\n  } = useApp();\n  const {\n    isLoading: authLoading,\n    isAuthenticated,\n    user\n  } = useAuth();\n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone_number: '',\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [showPasswordSection, setShowPasswordSection] = useState(false);\n  const [error, setError] = useState('');\n\n  // Mettre à jour le formulaire quand l'utilisateur est chargé\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        first_name: user.first_name || '',\n        last_name: user.last_name || '',\n        email: user.email || '',\n        phone_number: user.phone_number || '',\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      });\n    }\n  }, [user]);\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Effacer l'erreur quand l'utilisateur tape\n    if (error) setError('');\n  };\n  const handleProfileUpdate = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      console.log('Début de la mise à jour du profil...');\n\n      // Préparer les données à envoyer\n      const updateData = {\n        first_name: formData.first_name,\n        last_name: formData.last_name,\n        email: formData.email,\n        phone_number: formData.phone_number\n      };\n      console.log('Données à envoyer:', updateData);\n\n      // Si l'utilisateur veut changer le mot de passe\n      if (showPasswordSection && formData.new_password) {\n        if (formData.new_password !== formData.confirm_password) {\n          actions.showNotification('error', 'Les mots de passe ne correspondent pas');\n          setLoading(false);\n          return;\n        }\n        if (!formData.current_password) {\n          actions.showNotification('error', 'Veuillez saisir votre mot de passe actuel');\n          setLoading(false);\n          return;\n        }\n        updateData.current_password = formData.current_password;\n        updateData.new_password = formData.new_password;\n        console.log('Changement de mot de passe demandé');\n      }\n\n      // Appel API pour mettre à jour le profil\n      console.log('Appel API updateProfile...');\n      const response = await authService.updateProfile(updateData);\n      console.log('Réponse API:', response);\n\n      // Mettre à jour l'état global\n      actions.setUser(response);\n      actions.showNotification('success', 'Profil mis à jour avec succès');\n\n      // Réinitialiser les champs de mot de passe\n      setFormData(prev => ({\n        ...prev,\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      }));\n      setShowPasswordSection(false);\n    } catch (error) {\n      console.error('Erreur complète lors de la mise à jour:', error);\n      console.error('Type d\\'erreur:', typeof error);\n      console.error('Propriétés de l\\'erreur:', Object.keys(error));\n      let errorMessage = 'Erreur lors de la mise à jour du profil';\n      if (error.response) {\n        var _error$response$data, _error$response$data2, _error$response$data3, _error$response$data4;\n        console.error('Erreur de réponse HTTP:', error.response.status, error.response.data);\n        errorMessage = ((_error$response$data = error.response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || ((_error$response$data2 = error.response.data) === null || _error$response$data2 === void 0 ? void 0 : _error$response$data2.detail) || ((_error$response$data3 = error.response.data) === null || _error$response$data3 === void 0 ? void 0 : (_error$response$data4 = _error$response$data3.non_field_errors) === null || _error$response$data4 === void 0 ? void 0 : _error$response$data4[0]) || `Erreur HTTP ${error.response.status}`;\n      } else if (error.message) {\n        errorMessage = error.message;\n      } else if (typeof error === 'string') {\n        errorMessage = error;\n      } else if (error.detail) {\n        errorMessage = error.detail;\n      }\n      setError(errorMessage);\n      actions.showNotification('error', errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const getInitials = user => {\n    if (!user) return 'U';\n    const firstName = user.first_name || '';\n    const lastName = user.last_name || '';\n    return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase() || user.email.charAt(0).toUpperCase();\n  };\n\n  // Affichage de chargement pendant l'authentification\n  if (authLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-vh-100 bg-light\",\n      children: [/*#__PURE__*/_jsxDEV(ModernNavbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container py-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-8 col-lg-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner-border text-primary mb-3\",\n                role: \"status\",\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"visually-hidden\",\n                  children: \"Chargement...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"text-muted\",\n                children: \"Chargement de votre profil...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 152,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-vh-100 bg-light\",\n    children: [/*#__PURE__*/_jsxDEV(ModernNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-8 col-lg-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4 d-flex justify-content-start\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-secondary d-flex align-items-center\",\n              onClick: () => navigate(-1),\n              style: {\n                borderRadius: '12px',\n                padding: '0.6rem 1.2rem',\n                fontSize: '0.95rem',\n                fontWeight: '500',\n                boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-arrow-left me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), \"Retour\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"d-inline-flex align-items-center justify-content-center bg-primary text-white rounded-circle mb-3\",\n              style: {\n                width: '80px',\n                height: '80px',\n                fontSize: '2rem',\n                fontWeight: 'bold'\n              },\n              children: getInitials(user)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"h3 text-dark mb-1\",\n              children: \"Mon Profil\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-muted\",\n              children: \"G\\xE9rez vos informations personnelles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card shadow-sm border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"form\", {\n                onSubmit: handleProfileUpdate,\n                children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"alert alert-danger mb-4\",\n                  role: \"alert\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-exclamation-triangle me-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 205,\n                    columnNumber: 23\n                  }, this), error]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"text-dark mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                      className: \"fas fa-user me-2 text-primary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 23\n                    }, this), \"Informations personnelles\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"row\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"first_name\",\n                        className: \"form-label text-dark fw-medium\",\n                        children: \"Pr\\xE9nom\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 219,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        id: \"first_name\",\n                        name: \"first_name\",\n                        value: formData.first_name,\n                        onChange: handleInputChange,\n                        placeholder: \"Votre pr\\xE9nom\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 218,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"col-md-6 mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"last_name\",\n                        className: \"form-label text-dark fw-medium\",\n                        children: \"Nom\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 233,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"text\",\n                        className: \"form-control\",\n                        id: \"last_name\",\n                        name: \"last_name\",\n                        value: formData.last_name,\n                        onChange: handleInputChange,\n                        placeholder: \"Votre nom\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 236,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 232,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 217,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"email\",\n                      className: \"form-label text-dark fw-medium\",\n                      children: \"Adresse email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 249,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      className: \"form-control\",\n                      id: \"email\",\n                      name: \"email\",\n                      value: formData.email,\n                      onChange: handleInputChange,\n                      placeholder: \"votre@email.com\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 252,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      htmlFor: \"phone_number\",\n                      className: \"form-label text-dark fw-medium\",\n                      children: \"Num\\xE9ro de t\\xE9l\\xE9phone\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 264,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"tel\",\n                      className: \"form-control\",\n                      id: \"phone_number\",\n                      name: \"phone_number\",\n                      value: formData.phone_number,\n                      onChange: handleInputChange,\n                      placeholder: \"0123456789 ou +33123456789\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 267,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 263,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mb-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"d-flex align-items-center justify-content-between mb-3\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                      className: \"text-dark mb-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-lock me-2 text-primary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 283,\n                        columnNumber: 25\n                      }, this), \"S\\xE9curit\\xE9\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"btn btn-outline-primary btn-sm\",\n                      onClick: () => setShowPasswordSection(!showPasswordSection),\n                      children: showPasswordSection ? 'Annuler' : 'Changer le mot de passe'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 21\n                  }, this), showPasswordSection && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"border rounded p-3 bg-light\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"current_password\",\n                        className: \"form-label text-dark fw-medium\",\n                        children: \"Mot de passe actuel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 298,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"current_password\",\n                        name: \"current_password\",\n                        value: formData.current_password,\n                        onChange: handleInputChange,\n                        placeholder: \"Votre mot de passe actuel\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 301,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"new_password\",\n                        className: \"form-label text-dark fw-medium\",\n                        children: \"Nouveau mot de passe\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 312,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"new_password\",\n                        name: \"new_password\",\n                        value: formData.new_password,\n                        onChange: handleInputChange,\n                        placeholder: \"Nouveau mot de passe\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 315,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 311,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mb-0\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"confirm_password\",\n                        className: \"form-label text-dark fw-medium\",\n                        children: \"Confirmer le nouveau mot de passe\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 326,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"password\",\n                        className: \"form-control\",\n                        id: \"confirm_password\",\n                        name: \"confirm_password\",\n                        value: formData.confirm_password,\n                        onChange: handleInputChange,\n                        placeholder: \"Confirmer le nouveau mot de passe\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 329,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 325,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"d-flex gap-3\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"submit\",\n                    className: \"btn btn-primary flex-fill\",\n                    disabled: loading,\n                    children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"spinner-border spinner-border-sm me-2\",\n                        role: \"status\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 352,\n                        columnNumber: 27\n                      }, this), \"Mise \\xE0 jour...\"]\n                    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                        className: \"fas fa-save me-2\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 357,\n                        columnNumber: 27\n                      }, this), \"Sauvegarder\"]\n                    }, void 0, true)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 345,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 344,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 5\n  }, this);\n};\n_s(Profile, \"2XfMEfRUClZmr43zMi2EImAjr3A=\", false, function () {\n  return [useNavigate, useApp, useAuth];\n});\n_c = Profile;\nexport default Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useApp","authService","ModernNavbar","useAuth","jsxDEV","_jsxDEV","Fragment","_Fragment","Profile","_s","navigate","actions","isLoading","authLoading","isAuthenticated","user","formData","setFormData","first_name","last_name","email","phone_number","current_password","new_password","confirm_password","loading","setLoading","showPasswordSection","setShowPasswordSection","error","setError","handleInputChange","e","name","value","target","prev","handleProfileUpdate","preventDefault","console","log","updateData","showNotification","response","updateProfile","setUser","Object","keys","errorMessage","_error$response$data","_error$response$data2","_error$response$data3","_error$response$data4","status","data","message","detail","non_field_errors","getInitials","firstName","lastName","charAt","toUpperCase","className","children","fileName","_jsxFileName","lineNumber","columnNumber","role","onClick","style","borderRadius","padding","fontSize","fontWeight","boxShadow","width","height","onSubmit","htmlFor","type","id","onChange","placeholder","disabled","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/pages/Profile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useApp } from '../contexts/AppContext';\nimport authService from '../services/authService';\nimport ModernNavbar from '../components/ModernNavbar';\nimport useAuth from '../hooks/useAuth';\n\nconst Profile = () => {\n  const navigate = useNavigate();\n  const { actions } = useApp();\n  const { isLoading: authLoading, isAuthenticated, user } = useAuth();\n\n  const [formData, setFormData] = useState({\n    first_name: '',\n    last_name: '',\n    email: '',\n    phone_number: '',\n    current_password: '',\n    new_password: '',\n    confirm_password: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [showPasswordSection, setShowPasswordSection] = useState(false);\n  const [error, setError] = useState('');\n\n  // Mettre à jour le formulaire quand l'utilisateur est chargé\n  useEffect(() => {\n    if (user) {\n      setFormData({\n        first_name: user.first_name || '',\n        last_name: user.last_name || '',\n        email: user.email || '',\n        phone_number: user.phone_number || '',\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      });\n    }\n  }, [user]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Effacer l'erreur quand l'utilisateur tape\n    if (error) setError('');\n  };\n\n  const handleProfileUpdate = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n\n    try {\n      console.log('Début de la mise à jour du profil...');\n\n      // Préparer les données à envoyer\n      const updateData = {\n        first_name: formData.first_name,\n        last_name: formData.last_name,\n        email: formData.email,\n        phone_number: formData.phone_number\n      };\n\n      console.log('Données à envoyer:', updateData);\n\n      // Si l'utilisateur veut changer le mot de passe\n      if (showPasswordSection && formData.new_password) {\n        if (formData.new_password !== formData.confirm_password) {\n          actions.showNotification('error', 'Les mots de passe ne correspondent pas');\n          setLoading(false);\n          return;\n        }\n\n        if (!formData.current_password) {\n          actions.showNotification('error', 'Veuillez saisir votre mot de passe actuel');\n          setLoading(false);\n          return;\n        }\n\n        updateData.current_password = formData.current_password;\n        updateData.new_password = formData.new_password;\n        console.log('Changement de mot de passe demandé');\n      }\n\n      // Appel API pour mettre à jour le profil\n      console.log('Appel API updateProfile...');\n      const response = await authService.updateProfile(updateData);\n      console.log('Réponse API:', response);\n\n      // Mettre à jour l'état global\n      actions.setUser(response);\n      actions.showNotification('success', 'Profil mis à jour avec succès');\n\n      // Réinitialiser les champs de mot de passe\n      setFormData(prev => ({\n        ...prev,\n        current_password: '',\n        new_password: '',\n        confirm_password: ''\n      }));\n      setShowPasswordSection(false);\n\n    } catch (error) {\n      console.error('Erreur complète lors de la mise à jour:', error);\n      console.error('Type d\\'erreur:', typeof error);\n      console.error('Propriétés de l\\'erreur:', Object.keys(error));\n\n      let errorMessage = 'Erreur lors de la mise à jour du profil';\n\n      if (error.response) {\n        console.error('Erreur de réponse HTTP:', error.response.status, error.response.data);\n        errorMessage = error.response.data?.message ||\n                      error.response.data?.detail ||\n                      error.response.data?.non_field_errors?.[0] ||\n                      `Erreur HTTP ${error.response.status}`;\n      } else if (error.message) {\n        errorMessage = error.message;\n      } else if (typeof error === 'string') {\n        errorMessage = error;\n      } else if (error.detail) {\n        errorMessage = error.detail;\n      }\n\n      setError(errorMessage);\n      actions.showNotification('error', errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getInitials = (user) => {\n    if (!user) return 'U';\n    const firstName = user.first_name || '';\n    const lastName = user.last_name || '';\n    return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase() || user.email.charAt(0).toUpperCase();\n  };\n\n  // Affichage de chargement pendant l'authentification\n  if (authLoading) {\n    return (\n      <div className=\"min-vh-100 bg-light\">\n        <ModernNavbar />\n        <div className=\"container py-5\">\n          <div className=\"row justify-content-center\">\n            <div className=\"col-md-8 col-lg-6\">\n              <div className=\"text-center\">\n                <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n                  <span className=\"visually-hidden\">Chargement...</span>\n                </div>\n                <h5 className=\"text-muted\">Chargement de votre profil...</h5>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-vh-100 bg-light\">\n      {/* Navigation */}\n      <ModernNavbar />\n\n      {/* Main Content */}\n      <div className=\"container py-5\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-md-8 col-lg-6\">\n            {/* Bouton de retour en haut */}\n            <div className=\"mb-4 d-flex justify-content-start\">\n              <button\n                className=\"btn btn-outline-secondary d-flex align-items-center\"\n                onClick={() => navigate(-1)}\n                style={{\n                  borderRadius: '12px',\n                  padding: '0.6rem 1.2rem',\n                  fontSize: '0.95rem',\n                  fontWeight: '500',\n                  boxShadow: '0 2px 4px rgba(0,0,0,0.1)'\n                }}\n              >\n                <i className=\"fas fa-arrow-left me-2\"></i>\n                Retour\n              </button>\n            </div>\n\n            {/* Header */}\n            <div className=\"text-center mb-4\">\n              <div className=\"d-inline-flex align-items-center justify-content-center bg-primary text-white rounded-circle mb-3\"\n                   style={{ width: '80px', height: '80px', fontSize: '2rem', fontWeight: 'bold' }}>\n                {getInitials(user)}\n              </div>\n              <h2 className=\"h3 text-dark mb-1\">Mon Profil</h2>\n              <p className=\"text-muted\">Gérez vos informations personnelles</p>\n            </div>\n\n            {/* Profile Form */}\n            <div className=\"card shadow-sm border-0\">\n              <div className=\"card-body p-4\">\n                <form onSubmit={handleProfileUpdate}>\n                  {/* Affichage des erreurs */}\n                  {error && (\n                    <div className=\"alert alert-danger mb-4\" role=\"alert\">\n                      <i className=\"fas fa-exclamation-triangle me-2\"></i>\n                      {error}\n                    </div>\n                  )}\n\n                  {/* Informations personnelles */}\n                  <div className=\"mb-4\">\n                    <h5 className=\"text-dark mb-3\">\n                      <i className=\"fas fa-user me-2 text-primary\"></i>\n                      Informations personnelles\n                    </h5>\n                    \n                    <div className=\"row\">\n                      <div className=\"col-md-6 mb-3\">\n                        <label htmlFor=\"first_name\" className=\"form-label text-dark fw-medium\">\n                          Prénom\n                        </label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          id=\"first_name\"\n                          name=\"first_name\"\n                          value={formData.first_name}\n                          onChange={handleInputChange}\n                          placeholder=\"Votre prénom\"\n                        />\n                      </div>\n                      <div className=\"col-md-6 mb-3\">\n                        <label htmlFor=\"last_name\" className=\"form-label text-dark fw-medium\">\n                          Nom\n                        </label>\n                        <input\n                          type=\"text\"\n                          className=\"form-control\"\n                          id=\"last_name\"\n                          name=\"last_name\"\n                          value={formData.last_name}\n                          onChange={handleInputChange}\n                          placeholder=\"Votre nom\"\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"mb-3\">\n                      <label htmlFor=\"email\" className=\"form-label text-dark fw-medium\">\n                        Adresse email\n                      </label>\n                      <input\n                        type=\"email\"\n                        className=\"form-control\"\n                        id=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleInputChange}\n                        placeholder=\"votre@email.com\"\n                      />\n                    </div>\n\n                    <div className=\"mb-3\">\n                      <label htmlFor=\"phone_number\" className=\"form-label text-dark fw-medium\">\n                        Numéro de téléphone\n                      </label>\n                      <input\n                        type=\"tel\"\n                        className=\"form-control\"\n                        id=\"phone_number\"\n                        name=\"phone_number\"\n                        value={formData.phone_number}\n                        onChange={handleInputChange}\n                        placeholder=\"0123456789 ou +33123456789\"\n                      />\n                    </div>\n                  </div>\n\n                  {/* Section mot de passe */}\n                  <div className=\"mb-4\">\n                    <div className=\"d-flex align-items-center justify-content-between mb-3\">\n                      <h5 className=\"text-dark mb-0\">\n                        <i className=\"fas fa-lock me-2 text-primary\"></i>\n                        Sécurité\n                      </h5>\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-outline-primary btn-sm\"\n                        onClick={() => setShowPasswordSection(!showPasswordSection)}\n                      >\n                        {showPasswordSection ? 'Annuler' : 'Changer le mot de passe'}\n                      </button>\n                    </div>\n\n                    {showPasswordSection && (\n                      <div className=\"border rounded p-3 bg-light\">\n                        <div className=\"mb-3\">\n                          <label htmlFor=\"current_password\" className=\"form-label text-dark fw-medium\">\n                            Mot de passe actuel\n                          </label>\n                          <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"current_password\"\n                            name=\"current_password\"\n                            value={formData.current_password}\n                            onChange={handleInputChange}\n                            placeholder=\"Votre mot de passe actuel\"\n                          />\n                        </div>\n                        <div className=\"mb-3\">\n                          <label htmlFor=\"new_password\" className=\"form-label text-dark fw-medium\">\n                            Nouveau mot de passe\n                          </label>\n                          <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"new_password\"\n                            name=\"new_password\"\n                            value={formData.new_password}\n                            onChange={handleInputChange}\n                            placeholder=\"Nouveau mot de passe\"\n                          />\n                        </div>\n                        <div className=\"mb-0\">\n                          <label htmlFor=\"confirm_password\" className=\"form-label text-dark fw-medium\">\n                            Confirmer le nouveau mot de passe\n                          </label>\n                          <input\n                            type=\"password\"\n                            className=\"form-control\"\n                            id=\"confirm_password\"\n                            name=\"confirm_password\"\n                            value={formData.confirm_password}\n                            onChange={handleInputChange}\n                            placeholder=\"Confirmer le nouveau mot de passe\"\n                          />\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Boutons d'action */}\n                  <div className=\"d-flex gap-3\">\n                    <button\n                      type=\"submit\"\n                      className=\"btn btn-primary flex-fill\"\n                      disabled={loading}\n                    >\n                      {loading ? (\n                        <>\n                          <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n                          Mise à jour...\n                        </>\n                      ) : (\n                        <>\n                          <i className=\"fas fa-save me-2\"></i>\n                          Sauvegarder\n                        </>\n                      )}\n                    </button>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Profile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}