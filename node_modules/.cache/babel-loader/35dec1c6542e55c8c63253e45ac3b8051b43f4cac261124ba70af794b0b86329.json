{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\modifier\\\\Gestion_bibliotheque\\\\espace_client_app\\\\frontend\\\\src\\\\components\\\\DocumentUpload.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport documentService from '../services/documentService';\nimport { useApp } from '../contexts/AppContext';\nimport { getUserPermissions } from '../utils/permissions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DocumentUpload = ({\n  onClose,\n  onSuccess\n}) => {\n  _s();\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    document_type: 'other',\n    file: null,\n    is_public: true // Tous les documents sont publics par défaut\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [dragActive, setDragActive] = useState(false);\n  const {\n    state,\n    actions\n  } = useApp();\n\n  // Obtenir les permissions de l'utilisateur\n  const userPermissions = getUserPermissions(state.user);\n  const documentTypes = [{\n    value: 'pdf',\n    label: 'PDF'\n  }, {\n    value: 'fiche',\n    label: 'Fiche'\n  }, {\n    value: 'image',\n    label: 'Image'\n  }, {\n    value: 'other',\n    label: 'Autre'\n  }];\n\n  // Fonction pour détecter automatiquement le type de fichier\n  const detectFileType = fileName => {\n    if (!fileName) return 'other';\n    const extension = fileName.toLowerCase().split('.').pop();\n\n    // Types d'images\n    if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'ico', 'tiff', 'tif'].includes(extension)) {\n      return 'image';\n    }\n\n    // Types PDF\n    if (extension === 'pdf') {\n      return 'pdf';\n    }\n\n    // Types de fiche (documents texte, tableurs et présentations)\n    if (['doc', 'docx', 'txt', 'rtf', 'odt', 'ppt', 'pptx', 'odp', 'xls', 'xlsx', 'csv', 'ods', 'xlsm', 'xlsb'].includes(extension)) {\n      return 'fiche';\n    }\n\n    // Par défaut\n    return 'other';\n  };\n  const handleChange = e => {\n    const {\n      name,\n      value,\n      files\n    } = e.target;\n    if (name === 'file') {\n      const file = files[0];\n      const detectedType = detectFileType(file === null || file === void 0 ? void 0 : file.name);\n      setFormData({\n        ...formData,\n        file: file,\n        title: formData.title || (file ? file.name.split('.')[0] : ''),\n        document_type: detectedType // Détection automatique du type\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n\n    // Effacer l'erreur du champ modifié\n    if (errors[name]) {\n      setErrors({\n        ...errors,\n        [name]: ''\n      });\n    }\n  };\n  const handleDrag = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n  const handleDrop = e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0];\n      const detectedType = detectFileType(file.name);\n      setFormData({\n        ...formData,\n        file: file,\n        title: formData.title || file.name.split('.')[0],\n        document_type: detectedType // Détection automatique du type\n      });\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setErrors({});\n    if (!formData.file) {\n      setErrors({\n        file: ['Veuillez sélectionner un fichier']\n      });\n      setLoading(false);\n      return;\n    }\n    try {\n      const uploadData = new FormData();\n      uploadData.append('title', formData.title);\n      uploadData.append('description', formData.description);\n      uploadData.append('document_type', formData.document_type);\n      uploadData.append('file', formData.file);\n      const response = await documentService.uploadDocument(uploadData);\n      actions.showNotification('success', 'Document uploadé avec succès', 'Succès');\n      onSuccess(response.document);\n    } catch (err) {\n      setErrors(err);\n      actions.showNotification('error', 'Erreur lors de l\\'upload du document', 'Erreur');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal show d-block\",\n    tabIndex: \"-1\",\n    style: {\n      backgroundColor: 'rgba(0,0,0,0.5)'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-dialog modal-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"modal-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-plus me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 15\n            }, this), \"Ajouter un document\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn-close\",\n            onClick: onClose\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [errors.non_field_errors && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"alert alert-danger\",\n              children: errors.non_field_errors[0]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 157,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-file me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 19\n                }, this), \"Fichier *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 164,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `border rounded p-4 text-center ${dragActive ? 'border-primary bg-light' : 'border-dashed'} ${errors.file ? 'border-danger' : ''}`,\n                onDragEnter: handleDrag,\n                onDragLeave: handleDrag,\n                onDragOver: handleDrag,\n                onDrop: handleDrop,\n                children: formData.file ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-file-check fa-2x text-success mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 179,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-0\",\n                    children: formData.file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    className: \"text-muted\",\n                    children: documentService.formatFileSize(formData.file.size)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 181,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 178,\n                  columnNumber: 21\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-cloud-upload-alt fa-2x text-muted mb-2\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 187,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"mb-2\",\n                    children: \"Glissez-d\\xE9posez votre fichier ici ou\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    className: \"form-control\",\n                    name: \"file\",\n                    onChange: handleChange,\n                    accept: \".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 189,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this), errors.file && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-danger small mt-1\",\n                children: errors.file[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"title\",\n                className: \"form-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-heading me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this), \"Titre *\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                className: `form-control ${errors.title ? 'is-invalid' : ''}`,\n                id: \"title\",\n                name: \"title\",\n                value: formData.title,\n                onChange: handleChange,\n                required: true,\n                placeholder: \"Nom du document\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 17\n              }, this), errors.title && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                children: errors.title[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"document_type\",\n                className: \"form-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-tags me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 232,\n                  columnNumber: 19\n                }, this), \"Type de document\", /*#__PURE__*/_jsxDEV(\"small\", {\n                  className: \"text-muted ms-2\",\n                  children: \"(d\\xE9tect\\xE9 automatiquement)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"input-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"input-group-text\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-magic\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: `form-select ${errors.document_type ? 'is-invalid' : ''}`,\n                  id: \"document_type\",\n                  name: \"document_type\",\n                  value: formData.document_type,\n                  onChange: handleChange,\n                  children: documentTypes.map(type => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: type.value,\n                    children: type.label\n                  }, type.value, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this), formData.file && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-text\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-info-circle me-1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), \"Type d\\xE9tect\\xE9 automatiquement bas\\xE9 sur l'extension du fichier. Vous pouvez le modifier si n\\xE9cessaire.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this), errors.document_type && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                children: errors.document_type[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"description\",\n                className: \"form-label\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-align-left me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 270,\n                  columnNumber: 19\n                }, this), \"Description\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: `form-control ${errors.description ? 'is-invalid' : ''}`,\n                id: \"description\",\n                name: \"description\",\n                value: formData.description,\n                onChange: handleChange,\n                rows: \"3\",\n                placeholder: \"Description du document (optionnel)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this), errors.description && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"invalid-feedback\",\n                children: errors.description[0]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 283,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-user-shield me-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Ajout administrateur :\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), \" Ce document sera ajout\\xE9 \\xE0 la biblioth\\xE8que partag\\xE9e et visible par tous les utilisateurs.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: onClose,\n              disabled: loading,\n              children: \"Annuler\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-success\",\n              disabled: loading || !formData.file,\n              children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner-border spinner-border-sm me-2\",\n                  role: \"status\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 21\n                }, this), \"Upload...\"]\n              }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-upload me-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 21\n                }, this), \"Ajouter\"]\n              }, void 0, true)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(DocumentUpload, \"eG3LbowgHO0CmHw/2kbhxPgNjN0=\", false, function () {\n  return [useApp];\n});\n_c = DocumentUpload;\nexport default DocumentUpload;\nvar _c;\n$RefreshReg$(_c, \"DocumentUpload\");","map":{"version":3,"names":["React","useState","documentService","useApp","getUserPermissions","jsxDEV","_jsxDEV","Fragment","_Fragment","DocumentUpload","onClose","onSuccess","_s","formData","setFormData","title","description","document_type","file","is_public","loading","setLoading","errors","setErrors","dragActive","setDragActive","state","actions","userPermissions","user","documentTypes","value","label","detectFileType","fileName","extension","toLowerCase","split","pop","includes","handleChange","e","name","files","target","detectedType","handleDrag","preventDefault","stopPropagation","type","handleDrop","dataTransfer","handleSubmit","uploadData","FormData","append","response","uploadDocument","showNotification","document","err","className","tabIndex","style","backgroundColor","children","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","non_field_errors","onDragEnter","onDragLeave","onDragOver","onDrop","formatFileSize","size","onChange","accept","htmlFor","id","required","placeholder","map","rows","disabled","role","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/components/DocumentUpload.js"],"sourcesContent":["import React, { useState } from 'react';\nimport documentService from '../services/documentService';\nimport { useApp } from '../contexts/AppContext';\nimport { getUserPermissions } from '../utils/permissions';\n\nconst DocumentUpload = ({ onClose, onSuccess }) => {\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    document_type: 'other',\n    file: null,\n    is_public: true  // Tous les documents sont publics par défaut\n  });\n  const [loading, setLoading] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [dragActive, setDragActive] = useState(false);\n  const { state, actions } = useApp();\n\n  // Obtenir les permissions de l'utilisateur\n  const userPermissions = getUserPermissions(state.user);\n\n  const documentTypes = [\n    { value: 'pdf', label: 'PDF' },\n    { value: 'fiche', label: 'Fiche' },\n    { value: 'image', label: 'Image' },\n    { value: 'other', label: 'Autre' }\n  ];\n\n  // Fonction pour détecter automatiquement le type de fichier\n  const detectFileType = (fileName) => {\n    if (!fileName) return 'other';\n\n    const extension = fileName.toLowerCase().split('.').pop();\n\n    // Types d'images\n    if (['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'ico', 'tiff', 'tif'].includes(extension)) {\n      return 'image';\n    }\n\n    // Types PDF\n    if (extension === 'pdf') {\n      return 'pdf';\n    }\n\n    // Types de fiche (documents texte, tableurs et présentations)\n    if (['doc', 'docx', 'txt', 'rtf', 'odt', 'ppt', 'pptx', 'odp', 'xls', 'xlsx', 'csv', 'ods', 'xlsm', 'xlsb'].includes(extension)) {\n      return 'fiche';\n    }\n\n    // Par défaut\n    return 'other';\n  };\n\n  const handleChange = (e) => {\n    const { name, value, files } = e.target;\n\n    if (name === 'file') {\n      const file = files[0];\n      const detectedType = detectFileType(file?.name);\n      setFormData({\n        ...formData,\n        file: file,\n        title: formData.title || (file ? file.name.split('.')[0] : ''),\n        document_type: detectedType // Détection automatique du type\n      });\n    } else {\n      setFormData({\n        ...formData,\n        [name]: value\n      });\n    }\n\n    // Effacer l'erreur du champ modifié\n    if (errors[name]) {\n      setErrors({\n        ...errors,\n        [name]: ''\n      });\n    }\n  };\n\n  const handleDrag = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    if (e.type === 'dragenter' || e.type === 'dragover') {\n      setDragActive(true);\n    } else if (e.type === 'dragleave') {\n      setDragActive(false);\n    }\n  };\n\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      const file = e.dataTransfer.files[0];\n      const detectedType = detectFileType(file.name);\n      setFormData({\n        ...formData,\n        file: file,\n        title: formData.title || file.name.split('.')[0],\n        document_type: detectedType // Détection automatique du type\n      });\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setErrors({});\n\n    if (!formData.file) {\n      setErrors({ file: ['Veuillez sélectionner un fichier'] });\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const uploadData = new FormData();\n      uploadData.append('title', formData.title);\n      uploadData.append('description', formData.description);\n      uploadData.append('document_type', formData.document_type);\n      uploadData.append('file', formData.file);\n\n      const response = await documentService.uploadDocument(uploadData);\n      actions.showNotification('success', 'Document uploadé avec succès', 'Succès');\n      onSuccess(response.document);\n    } catch (err) {\n      setErrors(err);\n      actions.showNotification('error', 'Erreur lors de l\\'upload du document', 'Erreur');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"modal show d-block\" tabIndex=\"-1\" style={{ backgroundColor: 'rgba(0,0,0,0.5)' }}>\n      <div className=\"modal-dialog modal-lg\">\n        <div className=\"modal-content\">\n          <div className=\"modal-header\">\n            <h5 className=\"modal-title\">\n              <i className=\"fas fa-plus me-2\"></i>\n              Ajouter un document\n            </h5>\n            <button\n              type=\"button\"\n              className=\"btn-close\"\n              onClick={onClose}\n            ></button>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            <div className=\"modal-body\">\n              {errors.non_field_errors && (\n                <div className=\"alert alert-danger\">\n                  {errors.non_field_errors[0]}\n                </div>\n              )}\n\n              {/* File Upload */}\n              <div className=\"mb-3\">\n                <label className=\"form-label\">\n                  <i className=\"fas fa-file me-2\"></i>\n                  Fichier *\n                </label>\n                <div\n                  className={`border rounded p-4 text-center ${\n                    dragActive ? 'border-primary bg-light' : 'border-dashed'\n                  } ${errors.file ? 'border-danger' : ''}`}\n                  onDragEnter={handleDrag}\n                  onDragLeave={handleDrag}\n                  onDragOver={handleDrag}\n                  onDrop={handleDrop}\n                >\n                  {formData.file ? (\n                    <div>\n                      <i className=\"fas fa-file-check fa-2x text-success mb-2\"></i>\n                      <p className=\"mb-0\">{formData.file.name}</p>\n                      <small className=\"text-muted\">\n                        {documentService.formatFileSize(formData.file.size)}\n                      </small>\n                    </div>\n                  ) : (\n                    <div>\n                      <i className=\"fas fa-cloud-upload-alt fa-2x text-muted mb-2\"></i>\n                      <p className=\"mb-2\">Glissez-déposez votre fichier ici ou</p>\n                      <input\n                        type=\"file\"\n                        className=\"form-control\"\n                        name=\"file\"\n                        onChange={handleChange}\n                        accept=\".pdf,.doc,.docx,.txt,.jpg,.jpeg,.png,.gif\"\n                      />\n                    </div>\n                  )}\n                </div>\n                {errors.file && (\n                  <div className=\"text-danger small mt-1\">\n                    {errors.file[0]}\n                  </div>\n                )}\n              </div>\n\n              {/* Title */}\n              <div className=\"mb-3\">\n                <label htmlFor=\"title\" className=\"form-label\">\n                  <i className=\"fas fa-heading me-2\"></i>\n                  Titre *\n                </label>\n                <input\n                  type=\"text\"\n                  className={`form-control ${errors.title ? 'is-invalid' : ''}`}\n                  id=\"title\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleChange}\n                  required\n                  placeholder=\"Nom du document\"\n                />\n                {errors.title && (\n                  <div className=\"invalid-feedback\">\n                    {errors.title[0]}\n                  </div>\n                )}\n              </div>\n\n              {/* Document Type - Détecté automatiquement */}\n              <div className=\"mb-3\">\n                <label htmlFor=\"document_type\" className=\"form-label\">\n                  <i className=\"fas fa-tags me-2\"></i>\n                  Type de document\n                  <small className=\"text-muted ms-2\">(détecté automatiquement)</small>\n                </label>\n                <div className=\"input-group\">\n                  <span className=\"input-group-text\">\n                    <i className=\"fas fa-magic\"></i>\n                  </span>\n                  <select\n                    className={`form-select ${errors.document_type ? 'is-invalid' : ''}`}\n                    id=\"document_type\"\n                    name=\"document_type\"\n                    value={formData.document_type}\n                    onChange={handleChange}\n                  >\n                    {documentTypes.map((type) => (\n                      <option key={type.value} value={type.value}>\n                        {type.label}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n                {formData.file && (\n                  <div className=\"form-text\">\n                    <i className=\"fas fa-info-circle me-1\"></i>\n                    Type détecté automatiquement basé sur l'extension du fichier. Vous pouvez le modifier si nécessaire.\n                  </div>\n                )}\n                {errors.document_type && (\n                  <div className=\"invalid-feedback\">\n                    {errors.document_type[0]}\n                  </div>\n                )}\n              </div>\n\n              {/* Description */}\n              <div className=\"mb-3\">\n                <label htmlFor=\"description\" className=\"form-label\">\n                  <i className=\"fas fa-align-left me-2\"></i>\n                  Description\n                </label>\n                <textarea\n                  className={`form-control ${errors.description ? 'is-invalid' : ''}`}\n                  id=\"description\"\n                  name=\"description\"\n                  value={formData.description}\n                  onChange={handleChange}\n                  rows=\"3\"\n                  placeholder=\"Description du document (optionnel)\"\n                ></textarea>\n                {errors.description && (\n                  <div className=\"invalid-feedback\">\n                    {errors.description[0]}\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Information sur le partage */}\n            <div className=\"alert alert-info\">\n              <i className=\"fas fa-user-shield me-2\"></i>\n              <strong>Ajout administrateur :</strong> Ce document sera ajouté à la bibliothèque partagée et visible par tous les utilisateurs.\n            </div>\n\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={onClose}\n                disabled={loading}\n              >\n                Annuler\n              </button>\n              <button\n                type=\"submit\"\n                className=\"btn btn-success\"\n                disabled={loading || !formData.file}\n              >\n                {loading ? (\n                  <>\n                    <span className=\"spinner-border spinner-border-sm me-2\" role=\"status\"></span>\n                    Upload...\n                  </>\n                ) : (\n                  <>\n                    <i className=\"fas fa-upload me-2\"></i>\n                    Ajouter\n                  </>\n                )}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}