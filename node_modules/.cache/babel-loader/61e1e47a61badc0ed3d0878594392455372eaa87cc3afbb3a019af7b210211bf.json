{"ast":null,"code":"import React from'react';import documentService from'../services/documentService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SimpleDocumentViewer=_ref=>{let{document,onClose}=_ref;if(!document)return null;const handleBackdropClick=e=>{if(e.target===e.currentTarget){onClose();}};const handleDownload=async()=>{try{await documentService.downloadDocument(document.id,document.file_name);}catch(error){console.error('Erreur lors du téléchargement:',error);alert('Erreur lors du téléchargement du document');}};const getFileExtension=filename=>{if(!filename)return'';const parts=filename.split('.');return parts.length>1?parts[parts.length-1].toLowerCase():'';};const extension=getFileExtension(document.file_name);const renderDocumentContent=()=>{var _document$file_name,_document$file_name2,_document$document_ty,_document$file_name3;console.log('🔍 Analyse du document:',{fileName:document.file_name,extension:extension,documentType:document.document_type,fileSize:document.file_size,id:document.id});// Vérifier si c'est un PDF\nconst isPdf=extension==='pdf'||((_document$file_name=document.file_name)===null||_document$file_name===void 0?void 0:_document$file_name.toLowerCase().includes('.pdf'))||document.document_type==='pdf';if(isPdf){const token=localStorage.getItem('access_token');const previewUrl=`http://localhost:8000/documents/${document.id}/preview/?token=${token}`;console.log('📄 Chargement PDF:',{fileName:document.file_name,url:previewUrl});return/*#__PURE__*/_jsx(\"iframe\",{src:previewUrl,style:{width:'100%',height:'980px',border:'none'},title:`Aperçu de ${document.title}`});}// Vérifier si c'est une image (plusieurs méthodes de détection)\nconst imageExtensions=['jpg','jpeg','png','gif','bmp','webp','svg'];const isImage=imageExtensions.includes(extension)||((_document$file_name2=document.file_name)===null||_document$file_name2===void 0?void 0:_document$file_name2.toLowerCase().match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i))||((_document$document_ty=document.document_type)===null||_document$document_ty===void 0?void 0:_document$document_ty.includes('image'))||// Si pas d'extension claire, essayer de détecter par le nom de fichier\nextension===''&&((_document$file_name3=document.file_name)===null||_document$file_name3===void 0?void 0:_document$file_name3.match(/^\\d+_\\d+/))||// Pattern comme \"468358500_878...\"\n// Détecter par taille de fichier (images typiques entre 10KB et 10MB)\nextension===''&&document.file_size&&document.file_size>10000&&document.file_size<10000000||// Forcer l'affichage comme image pour les fichiers sans extension\nextension===''||extension.length>4;if(isImage){var _document$file_name4,_document$document_ty2,_document$file_name5;const token=localStorage.getItem('access_token');const imageUrl=`http://localhost:8000/documents/${document.id}/preview/?token=${token}`;// Déterminer la méthode de détection utilisée\nlet detectionMethod='inconnue';if(imageExtensions.includes(extension))detectionMethod='extension';else if((_document$file_name4=document.file_name)!==null&&_document$file_name4!==void 0&&_document$file_name4.toLowerCase().match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i))detectionMethod='regex extension';else if((_document$document_ty2=document.document_type)!==null&&_document$document_ty2!==void 0&&_document$document_ty2.includes('image'))detectionMethod='document_type';else if(extension===''&&(_document$file_name5=document.file_name)!==null&&_document$file_name5!==void 0&&_document$file_name5.match(/^\\d+_\\d+/))detectionMethod='pattern numérique';else if(extension===''&&document.file_size&&document.file_size>10000&&document.file_size<10000000)detectionMethod='taille fichier';else if(extension===''||extension.length>4)detectionMethod='fallback sans extension';console.log('🖼️ Chargement image:',{fileName:document.file_name,extension:extension,detectionMethod:detectionMethod,url:imageUrl});return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'1rem'},children:/*#__PURE__*/_jsx(\"img\",{src:imageUrl,alt:document.title,style:{maxWidth:'100%',maxHeight:'900px',objectFit:'contain',border:'1px solid #ddd',borderRadius:'4px',boxShadow:'0 2px 8px rgba(0,0,0,0.1)'},onLoad:()=>console.log('✅ Image chargée avec succès'),onError:e=>console.error('❌ Erreur chargement image:',e)})});}// Fallback : essayer d'afficher comme image si pas d'extension claire\nif(!extension||extension===''){const token=localStorage.getItem('access_token');const fallbackUrl=`http://localhost:8000/documents/${document.id}/preview/?token=${token}`;console.log('🔄 Tentative fallback image pour:',{fileName:document.file_name,url:fallbackUrl});return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'1rem'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1rem',color:'#6c757d'},children:/*#__PURE__*/_jsx(\"small\",{children:\"Tentative d'affichage comme image...\"})}),/*#__PURE__*/_jsx(\"img\",{src:fallbackUrl,alt:document.title,style:{maxWidth:'100%',maxHeight:'900px',objectFit:'contain',border:'1px solid #ddd',borderRadius:'4px',boxShadow:'0 2px 8px rgba(0,0,0,0.1)'},onLoad:()=>{console.log('✅ Fallback image chargée avec succès');},onError:e=>{console.error('❌ Fallback image échoué:',e);// Afficher le message d'erreur\ne.target.style.display='none';e.target.nextSibling.style.display='block';}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'none',textAlign:'center',padding:'2rem',color:'#6c757d'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'1rem'},children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Aper\\xE7u non disponible\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ce fichier ne peut pas \\xEAtre pr\\xE9visualis\\xE9.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cliquez sur \\\"T\\xE9l\\xE9charger\\\" pour ouvrir le fichier.\"})]})]});}// Autres types de fichiers\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',padding:'3rem',color:'#6c757d'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'3rem',marginBottom:'1rem'},children:\"\\uD83D\\uDCC4\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Aper\\xE7u non disponible\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Ce type de fichier (.\",extension||'inconnu',\") ne peut pas \\xEAtre pr\\xE9visualis\\xE9.\"]}),/*#__PURE__*/_jsx(\"p\",{children:\"Cliquez sur \\\"T\\xE9l\\xE9charger\\\" pour ouvrir le fichier.\"})]});};return/*#__PURE__*/_jsx(\"div\",{style:{position:'fixed',top:0,left:0,width:'100%',height:'100%',backgroundColor:'rgba(0, 0, 0, 0.7)',display:'flex',justifyContent:'center',alignItems:'center',zIndex:9999,padding:'20px'},onClick:handleBackdropClick,children:/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'white',borderRadius:'8px',maxWidth:'95%',maxHeight:'95%',width:'1800px',height:'1200px',display:'flex',flexDirection:'column',overflow:'hidden',boxShadow:'0 10px 30px rgba(0, 0, 0, 0.3)'},onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem 1.5rem',borderBottom:'1px solid #dee2e6',display:'flex',justifyContent:'space-between',alignItems:'center',backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsxs(\"h5\",{style:{margin:0,color:'#495057'},children:[\"\\uD83D\\uDCC4 \",document.title]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,style:{background:'none',border:'none',fontSize:'1.5rem',cursor:'pointer',color:'#6c757d',padding:'0',width:'30px',height:'30px'},children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1.5rem',flexGrow:1,overflow:'auto'},children:[/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'1rem',padding:'1rem',backgroundColor:'#f8f9fa',borderRadius:'6px',borderLeft:'4px solid #007bff'},children:document.description&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description :\"}),\" \",document.description]})}),/*#__PURE__*/_jsx(\"div\",{style:{border:'1px solid #dee2e6',borderRadius:'6px',overflow:'hidden',minHeight:'1000px',height:'1000px',display:'flex',alignItems:'center',justifyContent:'center'},children:renderDocumentContent()})]}),/*#__PURE__*/_jsxs(\"div\",{style:{padding:'1rem 1.5rem',borderTop:'1px solid #dee2e6',backgroundColor:'#f8f9fa',display:'flex',justifyContent:'flex-end',gap:'0.5rem'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-success\",onClick:handleDownload,children:\"\\uD83D\\uDCE5 T\\xE9l\\xE9charger\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:onClose,children:\"Fermer\"})]})]})});};export default SimpleDocumentViewer;","map":{"version":3,"names":["React","documentService","jsx","_jsx","jsxs","_jsxs","SimpleDocumentViewer","_ref","document","onClose","handleBackdropClick","e","target","currentTarget","handleDownload","downloadDocument","id","file_name","error","console","alert","getFileExtension","filename","parts","split","length","toLowerCase","extension","renderDocumentContent","_document$file_name","_document$file_name2","_document$document_ty","_document$file_name3","log","fileName","documentType","document_type","fileSize","file_size","isPdf","includes","token","localStorage","getItem","previewUrl","url","src","style","width","height","border","title","imageExtensions","isImage","match","_document$file_name4","_document$document_ty2","_document$file_name5","imageUrl","detectionMethod","textAlign","padding","children","alt","maxWidth","maxHeight","objectFit","borderRadius","boxShadow","onLoad","onError","fallbackUrl","marginBottom","color","display","nextSibling","fontSize","position","top","left","backgroundColor","justifyContent","alignItems","zIndex","onClick","flexDirection","overflow","stopPropagation","borderBottom","margin","background","cursor","flexGrow","borderLeft","description","minHeight","borderTop","gap","className"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/components/SimpleDocumentViewer.js"],"sourcesContent":["import React from 'react';\nimport documentService from '../services/documentService';\n\nconst SimpleDocumentViewer = ({ document, onClose }) => {\n  if (!document) return null;\n\n  const handleBackdropClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleDownload = async () => {\n    try {\n      await documentService.downloadDocument(document.id, document.file_name);\n    } catch (error) {\n      console.error('Erreur lors du téléchargement:', error);\n      alert('Erreur lors du téléchargement du document');\n    }\n  };\n\n  const getFileExtension = (filename) => {\n    if (!filename) return '';\n    const parts = filename.split('.');\n    return parts.length > 1 ? parts[parts.length - 1].toLowerCase() : '';\n  };\n\n  const extension = getFileExtension(document.file_name);\n\n\n\n  const renderDocumentContent = () => {\n    console.log('🔍 Analyse du document:', {\n      fileName: document.file_name,\n      extension: extension,\n      documentType: document.document_type,\n      fileSize: document.file_size,\n      id: document.id\n    });\n\n    // Vérifier si c'est un PDF\n    const isPdf = extension === 'pdf' ||\n                  document.file_name?.toLowerCase().includes('.pdf') ||\n                  document.document_type === 'pdf';\n\n    if (isPdf) {\n      const token = localStorage.getItem('access_token');\n      const previewUrl = `http://localhost:8000/documents/${document.id}/preview/?token=${token}`;\n\n      console.log('📄 Chargement PDF:', { fileName: document.file_name, url: previewUrl });\n\n      return (\n        <iframe\n          src={previewUrl}\n          style={{\n            width: '100%',\n            height: '980px',\n            border: 'none'\n          }}\n          title={`Aperçu de ${document.title}`}\n        />\n      );\n    }\n\n    // Vérifier si c'est une image (plusieurs méthodes de détection)\n    const imageExtensions = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg'];\n    const isImage = imageExtensions.includes(extension) ||\n                    document.file_name?.toLowerCase().match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i) ||\n                    document.document_type?.includes('image') ||\n                    // Si pas d'extension claire, essayer de détecter par le nom de fichier\n                    (extension === '' && document.file_name?.match(/^\\d+_\\d+/)) || // Pattern comme \"468358500_878...\"\n                    // Détecter par taille de fichier (images typiques entre 10KB et 10MB)\n                    (extension === '' && document.file_size && document.file_size > 10000 && document.file_size < 10000000) ||\n                    // Forcer l'affichage comme image pour les fichiers sans extension\n                    (extension === '' || extension.length > 4);\n\n    if (isImage) {\n      const token = localStorage.getItem('access_token');\n      const imageUrl = `http://localhost:8000/documents/${document.id}/preview/?token=${token}`;\n\n      // Déterminer la méthode de détection utilisée\n      let detectionMethod = 'inconnue';\n      if (imageExtensions.includes(extension)) detectionMethod = 'extension';\n      else if (document.file_name?.toLowerCase().match(/\\.(jpg|jpeg|png|gif|bmp|webp|svg)$/i)) detectionMethod = 'regex extension';\n      else if (document.document_type?.includes('image')) detectionMethod = 'document_type';\n      else if (extension === '' && document.file_name?.match(/^\\d+_\\d+/)) detectionMethod = 'pattern numérique';\n      else if (extension === '' && document.file_size && document.file_size > 10000 && document.file_size < 10000000) detectionMethod = 'taille fichier';\n      else if (extension === '' || extension.length > 4) detectionMethod = 'fallback sans extension';\n\n      console.log('🖼️ Chargement image:', {\n        fileName: document.file_name,\n        extension: extension,\n        detectionMethod: detectionMethod,\n        url: imageUrl\n      });\n\n      return (\n        <div style={{ textAlign: 'center', padding: '1rem' }}>\n          <img\n            src={imageUrl}\n            alt={document.title}\n            style={{\n              maxWidth: '100%',\n              maxHeight: '900px',\n              objectFit: 'contain',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n            }}\n            onLoad={() => console.log('✅ Image chargée avec succès')}\n            onError={(e) => console.error('❌ Erreur chargement image:', e)}\n          />\n        </div>\n      );\n    }\n\n    // Fallback : essayer d'afficher comme image si pas d'extension claire\n    if (!extension || extension === '') {\n      const token = localStorage.getItem('access_token');\n      const fallbackUrl = `http://localhost:8000/documents/${document.id}/preview/?token=${token}`;\n\n      console.log('🔄 Tentative fallback image pour:', {\n        fileName: document.file_name,\n        url: fallbackUrl\n      });\n\n      return (\n        <div style={{ textAlign: 'center', padding: '1rem' }}>\n          <div style={{ marginBottom: '1rem', color: '#6c757d' }}>\n            <small>Tentative d'affichage comme image...</small>\n          </div>\n          <img\n            src={fallbackUrl}\n            alt={document.title}\n            style={{\n              maxWidth: '100%',\n              maxHeight: '900px',\n              objectFit: 'contain',\n              border: '1px solid #ddd',\n              borderRadius: '4px',\n              boxShadow: '0 2px 8px rgba(0,0,0,0.1)'\n            }}\n            onLoad={() => {\n              console.log('✅ Fallback image chargée avec succès');\n            }}\n            onError={(e) => {\n              console.error('❌ Fallback image échoué:', e);\n              // Afficher le message d'erreur\n              e.target.style.display = 'none';\n              e.target.nextSibling.style.display = 'block';\n            }}\n          />\n          <div style={{\n            display: 'none',\n            textAlign: 'center',\n            padding: '2rem',\n            color: '#6c757d'\n          }}>\n            <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>📄</div>\n            <h5>Aperçu non disponible</h5>\n            <p>Ce fichier ne peut pas être prévisualisé.</p>\n            <p>Cliquez sur \"Télécharger\" pour ouvrir le fichier.</p>\n          </div>\n        </div>\n      );\n    }\n\n    // Autres types de fichiers\n    return (\n      <div style={{\n        textAlign: 'center',\n        padding: '3rem',\n        color: '#6c757d'\n      }}>\n        <div style={{ fontSize: '3rem', marginBottom: '1rem' }}>📄</div>\n        <h5>Aperçu non disponible</h5>\n        <p>Ce type de fichier (.{extension || 'inconnu'}) ne peut pas être prévisualisé.</p>\n        <p>Cliquez sur \"Télécharger\" pour ouvrir le fichier.</p>\n      </div>\n    );\n  };\n\n  return (\n    <div \n      style={{\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        backgroundColor: 'rgba(0, 0, 0, 0.7)',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        zIndex: 9999,\n        padding: '20px'\n      }}\n      onClick={handleBackdropClick}\n    >\n      <div\n        style={{\n          backgroundColor: 'white',\n          borderRadius: '8px',\n          maxWidth: '95%',\n          maxHeight: '95%',\n          width: '1800px',\n          height: '1200px',\n          display: 'flex',\n          flexDirection: 'column',\n          overflow: 'hidden',\n          boxShadow: '0 10px 30px rgba(0, 0, 0, 0.3)'\n        }}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* Header */}\n        <div style={{\n          padding: '1rem 1.5rem',\n          borderBottom: '1px solid #dee2e6',\n          display: 'flex',\n          justifyContent: 'space-between',\n          alignItems: 'center',\n          backgroundColor: '#f8f9fa'\n        }}>\n          <h5 style={{ margin: 0, color: '#495057' }}>\n            📄 {document.title}\n          </h5>\n          <button\n            onClick={onClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              fontSize: '1.5rem',\n              cursor: 'pointer',\n              color: '#6c757d',\n              padding: '0',\n              width: '30px',\n              height: '30px'\n            }}\n          >\n            ×\n          </button>\n        </div>\n\n        {/* Body */}\n        <div style={{\n          padding: '1.5rem',\n          flexGrow: 1,\n          overflow: 'auto'\n        }}>\n          {/* Info */}\n          <div style={{\n            marginBottom: '1rem',\n            padding: '1rem',\n            backgroundColor: '#f8f9fa',\n            borderRadius: '6px',\n            borderLeft: '4px solid #007bff'\n          }}>\n            {document.description && (\n              <div><strong>Description :</strong> {document.description}</div>\n            )}\n          </div>\n\n          {/* Content */}\n          <div style={{\n            border: '1px solid #dee2e6',\n            borderRadius: '6px',\n            overflow: 'hidden',\n            minHeight: '1000px',\n            height: '1000px',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center'\n          }}>\n            {renderDocumentContent()}\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div style={{\n          padding: '1rem 1.5rem',\n          borderTop: '1px solid #dee2e6',\n          backgroundColor: '#f8f9fa',\n          display: 'flex',\n          justifyContent: 'flex-end',\n          gap: '0.5rem'\n        }}>\n          <button\n            className=\"btn btn-outline-success\"\n            onClick={handleDownload}\n          >\n            📥 Télécharger\n          </button>\n          <button\n            className=\"btn btn-secondary\"\n            onClick={onClose}\n          >\n            Fermer\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SimpleDocumentViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}