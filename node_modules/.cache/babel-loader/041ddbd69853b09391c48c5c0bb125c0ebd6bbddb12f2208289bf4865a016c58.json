{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{useApp}from'../contexts/AppContext';import documentService from'../services/documentService';import ModernNavbar from'../components/ModernNavbar';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const DocumentEdit=()=>{const{id}=useParams();const navigate=useNavigate();const{actions}=useApp();console.log('DocumentEdit - ID du document:',id);const[document,setDocument]=useState(null);const[formData,setFormData]=useState({title:'',description:'',document_type:'other'});const[loading,setLoading]=useState(true);const[saving,setSaving]=useState(false);const[errors,setErrors]=useState({});const[hasChanges,setHasChanges]=useState(false);const[originalData,setOriginalData]=useState({});// Types de documents disponibles avec icônes\nconst documentTypes=[{value:'pdf',label:'PDF',icon:'fas fa-file-pdf',color:'text-danger'},{value:'fiche',label:'Fiche',icon:'fas fa-file-alt',color:'text-primary'},{value:'image',label:'Image',icon:'fas fa-file-image',color:'text-success'},{value:'other',label:'Autre',icon:'fas fa-file',color:'text-secondary'}];// Charger le document\nuseEffect(()=>{const loadDocument=async()=>{try{setLoading(true);console.log('Chargement du document avec ID:',id);// Utiliser getDocument directement au lieu de getDocuments\nconst foundDocument=await documentService.getDocument(id);console.log('Document trouvé:',foundDocument);if(!foundDocument){actions.showNotification('error','Document non trouvé');navigate('/dashboard');return;}setDocument(foundDocument);const initialData={title:foundDocument.title||'',description:foundDocument.description||'',document_type:foundDocument.document_type||'other'};setFormData(initialData);setOriginalData(initialData);}catch(error){console.error('Erreur lors du chargement du document:',error);// Gestion d'erreur plus spécifique\nif(error.status===404){actions.showNotification('error','Document non trouvé');}else if(error.status===403){actions.showNotification('error','Vous n\\'avez pas les permissions pour modifier ce document');}else{actions.showNotification('error','Erreur lors du chargement du document');}navigate('/dashboard');}finally{setLoading(false);}};if(id){loadDocument();}},[id,navigate,actions]);// Détecter les changements\nuseEffect(()=>{const changed=Object.keys(formData).some(key=>formData[key]!==originalData[key]);setHasChanges(changed);},[formData,originalData]);const handleInputChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));// Effacer l'erreur pour ce champ\nif(errors[name]){setErrors(prev=>({...prev,[name]:null}));}};const validateForm=()=>{const newErrors={};if(!formData.title.trim()){newErrors.title='Le titre est obligatoire';}else if(formData.title.trim().length<3){newErrors.title='Le titre doit contenir au moins 3 caractères';}else if(formData.title.trim().length>200){newErrors.title='Le titre ne peut pas dépasser 200 caractères';}if(formData.description&&formData.description.length>1000){newErrors.description='La description ne peut pas dépasser 1000 caractères';}setErrors(newErrors);return Object.keys(newErrors).length===0;};const handleSubmit=async e=>{e.preventDefault();if(!validateForm()){return;}if(!hasChanges){actions.showNotification('info','Aucune modification détectée');return;}setSaving(true);try{const updatedDocument=await documentService.updateDocument(document.id,formData);// Mettre à jour le document dans le contexte\nactions.updateDocument(updatedDocument);actions.showNotification('success','Document modifié avec succès');navigate('/dashboard');}catch(error){var _error$response;console.error('Erreur lors de la modification:',error);if((_error$response=error.response)!==null&&_error$response!==void 0&&_error$response.data){const serverErrors=error.response.data;setErrors(serverErrors);const firstError=Object.values(serverErrors)[0];if(Array.isArray(firstError)){actions.showNotification('error',firstError[0]);}else{actions.showNotification('error',firstError);}}else{actions.showNotification('error','Erreur lors de la modification du document');}}finally{setSaving(false);}};const handleCancel=()=>{if(hasChanges){if(window.confirm('Vous avez des modifications non sauvegardées. Êtes-vous sûr de vouloir quitter ?')){navigate('/dashboard');}}else{navigate('/dashboard');}};const resetForm=()=>{setFormData(originalData);setErrors({});setHasChanges(false);};// Obtenir les informations du type de document actuel\nconst getCurrentTypeInfo=()=>{return documentTypes.find(type=>type.value===formData.document_type)||documentTypes[3];};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"min-vh-100 bg-light\",children:[/*#__PURE__*/_jsx(ModernNavbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center\",style:{height:'60vh'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary mb-3\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Chargement...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Chargement du document...\"})]})})})]});}if(!document){return null;}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-vh-100 bg-light\",children:[/*#__PURE__*/_jsx(ModernNavbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 col-xl-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary me-3\",onClick:handleCancel,disabled:saving,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left me-2\"}),\"Retour\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"h3 mb-1\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit me-2 text-warning\"}),\"Modifier le document\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted mb-0\",children:\"Modifiez les informations de votre document\"})]})]}),hasChanges&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-warning d-flex align-items-center mb-4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Vous avez des modifications non sauvegard\\xE9es\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm border-0 enhanced-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-gradient-primary text-white\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"card-title mb-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-edit me-2\"}),\"Informations du document\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[errors.non_field_errors&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-danger\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle me-2\"}),errors.non_field_errors[0]]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label fw-semibold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2 text-info\"}),\"Fichier actuel\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"enhanced-file-info-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"file-icon-section\",children:/*#__PURE__*/_jsx(\"i\",{className:`${getCurrentTypeInfo().icon} fa-2x ${getCurrentTypeInfo().color}`})}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-details-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-name-display\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"text-primary\",children:document.title}),/*#__PURE__*/_jsx(\"span\",{className:\"file-extension-badge ms-2\",children:document.file_extension})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-meta mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"file-size-info me-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-weight-hanging me-1 text-muted\"}),/*#__PURE__*/_jsx(\"small\",{children:document.file_size?documentService.formatFileSize(document.file_size):'Taille inconnue'})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-upload-date me-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-calendar me-1 text-muted\"}),/*#__PURE__*/_jsx(\"small\",{children:new Date(document.uploaded_at).toLocaleDateString('fr-FR')})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"file-author\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user me-1 text-muted\"}),/*#__PURE__*/_jsx(\"small\",{children:document.user_full_name||document.user_email})]})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"title\",className:\"form-label fw-semibold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-heading me-2 text-primary\"}),\"Titre du document *\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group enhanced-input-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text bg-light\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-signature text-muted\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",name:\"title\",className:`form-control enhanced-input ${errors.title?'is-invalid':''}`,value:formData.title,onChange:handleInputChange,placeholder:\"Entrez le titre du document\",required:true,disabled:saving,maxLength:\"200\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text bg-light\",children:/*#__PURE__*/_jsxs(\"small\",{className:`text-muted ${formData.title.length>180?'text-warning':''}`,children:[formData.title.length,\"/200\"]})})]}),errors.title&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle me-1\"}),errors.title]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lightbulb me-1 text-warning\"}),\"Choisissez un titre descriptif et unique pour votre document\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"document_type\",className:\"form-label fw-semibold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-tags me-2 text-success\"}),\"Cat\\xE9gorie du document\",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-info ms-2\",children:\"Auto-d\\xE9tect\\xE9\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group enhanced-input-group\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text bg-light\",children:/*#__PURE__*/_jsx(\"i\",{className:`${getCurrentTypeInfo().icon} ${getCurrentTypeInfo().color}`})}),/*#__PURE__*/_jsx(\"select\",{id:\"document_type\",name:\"document_type\",className:`form-select enhanced-select ${errors.document_type?'is-invalid':''}`,value:formData.document_type,onChange:handleInputChange,disabled:saving,children:documentTypes.map(type=>/*#__PURE__*/_jsx(\"option\",{value:type.value,children:type.label},type.value))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-folder me-1 text-info\"}),\"S\\xE9lectionnez la cat\\xE9gorie qui correspond le mieux \\xE0 votre document\"]}),errors.document_type&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle me-1\"}),errors.document_type]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"description\",className:\"form-label fw-semibold\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-align-left me-2 text-info\"}),\"Description\",/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary ms-2\",children:\"Optionnel\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"enhanced-textarea-container\",children:[/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",className:`form-control enhanced-textarea ${errors.description?'is-invalid':''}`,rows:\"4\",value:formData.description,onChange:handleInputChange,placeholder:\"Ajoutez une description d\\xE9taill\\xE9e de votre document...\",disabled:saving,maxLength:\"1000\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"textarea-footer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-text\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-1 text-info\"}),\"D\\xE9crivez le contenu et l'objectif de ce document\"]}),/*#__PURE__*/_jsxs(\"small\",{className:`text-muted ${formData.description.length>900?'text-warning':''}`,children:[formData.description.length,\"/1000\"]})]})]}),errors.description&&/*#__PURE__*/_jsxs(\"div\",{className:\"invalid-feedback d-block\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle me-1\"}),errors.description]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"enhanced-actions-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{children:hasChanges&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-outline-warning btn-enhanced\",onClick:resetForm,disabled:saving,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-undo me-2\"}),\"R\\xE9initialiser\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-secondary btn-enhanced\",onClick:handleCancel,disabled:saving,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times me-2\"}),\"Annuler\"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:`btn btn-enhanced ${hasChanges?'btn-warning':'btn-outline-primary'}`,disabled:saving||!hasChanges,children:saving?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-spinner fa-spin me-2\"}),\"Sauvegarde...\"]}):hasChanges?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-save me-2\"}),\"Sauvegarder les modifications\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check me-2\"}),\"Aucune modification\"]})})]})]})})]})})]})]})})})]});};export default DocumentEdit;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","useApp","documentService","ModernNavbar","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DocumentEdit","id","navigate","actions","console","log","document","setDocument","formData","setFormData","title","description","document_type","loading","setLoading","saving","setSaving","errors","setErrors","hasChanges","setHasChanges","originalData","setOriginalData","documentTypes","value","label","icon","color","loadDocument","foundDocument","getDocument","showNotification","initialData","error","status","changed","Object","keys","some","key","handleInputChange","e","name","target","prev","validateForm","newErrors","trim","length","handleSubmit","preventDefault","updatedDocument","updateDocument","_error$response","response","data","serverErrors","firstError","values","Array","isArray","handleCancel","window","confirm","resetForm","getCurrentTypeInfo","find","type","className","children","style","height","role","onClick","disabled","onSubmit","non_field_errors","file_extension","file_size","formatFileSize","Date","uploaded_at","toLocaleDateString","user_full_name","user_email","htmlFor","onChange","placeholder","required","maxLength","map","rows"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/pages/DocumentEdit.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { useApp } from '../contexts/AppContext';\nimport documentService from '../services/documentService';\nimport ModernNavbar from '../components/ModernNavbar';\n\nconst DocumentEdit = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { actions } = useApp();\n\n  console.log('DocumentEdit - ID du document:', id);\n  \n  const [document, setDocument] = useState(null);\n  const [formData, setFormData] = useState({\n    title: '',\n    description: '',\n    document_type: 'other'\n  });\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [errors, setErrors] = useState({});\n  const [hasChanges, setHasChanges] = useState(false);\n  const [originalData, setOriginalData] = useState({});\n\n  // Types de documents disponibles avec icônes\n  const documentTypes = [\n    { value: 'pdf', label: 'PDF', icon: 'fas fa-file-pdf', color: 'text-danger' },\n    { value: 'fiche', label: 'Fiche', icon: 'fas fa-file-alt', color: 'text-primary' },\n    { value: 'image', label: 'Image', icon: 'fas fa-file-image', color: 'text-success' },\n    { value: 'other', label: 'Autre', icon: 'fas fa-file', color: 'text-secondary' }\n  ];\n\n  // Charger le document\n  useEffect(() => {\n    const loadDocument = async () => {\n      try {\n        setLoading(true);\n        console.log('Chargement du document avec ID:', id);\n\n        // Utiliser getDocument directement au lieu de getDocuments\n        const foundDocument = await documentService.getDocument(id);\n        console.log('Document trouvé:', foundDocument);\n\n        if (!foundDocument) {\n          actions.showNotification('error', 'Document non trouvé');\n          navigate('/dashboard');\n          return;\n        }\n\n        setDocument(foundDocument);\n        const initialData = {\n          title: foundDocument.title || '',\n          description: foundDocument.description || '',\n          document_type: foundDocument.document_type || 'other'\n        };\n        setFormData(initialData);\n        setOriginalData(initialData);\n      } catch (error) {\n        console.error('Erreur lors du chargement du document:', error);\n\n        // Gestion d'erreur plus spécifique\n        if (error.status === 404) {\n          actions.showNotification('error', 'Document non trouvé');\n        } else if (error.status === 403) {\n          actions.showNotification('error', 'Vous n\\'avez pas les permissions pour modifier ce document');\n        } else {\n          actions.showNotification('error', 'Erreur lors du chargement du document');\n        }\n        navigate('/dashboard');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (id) {\n      loadDocument();\n    }\n  }, [id, navigate, actions]);\n\n  // Détecter les changements\n  useEffect(() => {\n    const changed = Object.keys(formData).some(key => \n      formData[key] !== originalData[key]\n    );\n    setHasChanges(changed);\n  }, [formData, originalData]);\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Effacer l'erreur pour ce champ\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: null\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.title.trim()) {\n      newErrors.title = 'Le titre est obligatoire';\n    } else if (formData.title.trim().length < 3) {\n      newErrors.title = 'Le titre doit contenir au moins 3 caractères';\n    } else if (formData.title.trim().length > 200) {\n      newErrors.title = 'Le titre ne peut pas dépasser 200 caractères';\n    }\n    \n    if (formData.description && formData.description.length > 1000) {\n      newErrors.description = 'La description ne peut pas dépasser 1000 caractères';\n    }\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    if (!hasChanges) {\n      actions.showNotification('info', 'Aucune modification détectée');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const updatedDocument = await documentService.updateDocument(document.id, formData);\n      // Mettre à jour le document dans le contexte\n      actions.updateDocument(updatedDocument);\n      actions.showNotification('success', 'Document modifié avec succès');\n      navigate('/dashboard');\n    } catch (error) {\n      console.error('Erreur lors de la modification:', error);\n      \n      if (error.response?.data) {\n        const serverErrors = error.response.data;\n        setErrors(serverErrors);\n        \n        const firstError = Object.values(serverErrors)[0];\n        if (Array.isArray(firstError)) {\n          actions.showNotification('error', firstError[0]);\n        } else {\n          actions.showNotification('error', firstError);\n        }\n      } else {\n        actions.showNotification('error', 'Erreur lors de la modification du document');\n      }\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleCancel = () => {\n    if (hasChanges) {\n      if (window.confirm('Vous avez des modifications non sauvegardées. Êtes-vous sûr de vouloir quitter ?')) {\n        navigate('/dashboard');\n      }\n    } else {\n      navigate('/dashboard');\n    }\n  };\n\n  const resetForm = () => {\n    setFormData(originalData);\n    setErrors({});\n    setHasChanges(false);\n  };\n\n  // Obtenir les informations du type de document actuel\n  const getCurrentTypeInfo = () => {\n    return documentTypes.find(type => type.value === formData.document_type) || documentTypes[3];\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-vh-100 bg-light\">\n        <ModernNavbar />\n        <div className=\"container-fluid py-4\">\n          <div className=\"d-flex justify-content-center align-items-center\" style={{ height: '60vh' }}>\n            <div className=\"text-center\">\n              <div className=\"spinner-border text-primary mb-3\" role=\"status\">\n                <span className=\"visually-hidden\">Chargement...</span>\n              </div>\n              <p className=\"text-muted\">Chargement du document...</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!document) {\n    return null;\n  }\n\n  return (\n    <div className=\"min-vh-100 bg-light\">\n      <ModernNavbar />\n\n      <div className=\"container-fluid py-4\">\n        <div className=\"row justify-content-center\">\n          <div className=\"col-12 col-lg-8 col-xl-6\">\n            {/* Header */}\n            <div className=\"d-flex align-items-center mb-4\">\n              <button\n                className=\"btn btn-outline-secondary me-3\"\n                onClick={handleCancel}\n                disabled={saving}\n              >\n                <i className=\"fas fa-arrow-left me-2\"></i>\n                Retour\n              </button>\n              <div>\n                <h1 className=\"h3 mb-1\">\n                  <i className=\"fas fa-edit me-2 text-warning\"></i>\n                  Modifier le document\n                </h1>\n                <p className=\"text-muted mb-0\">\n                  Modifiez les informations de votre document\n                </p>\n              </div>\n            </div>\n\n            {/* Status Badge */}\n            {hasChanges && (\n              <div className=\"alert alert-warning d-flex align-items-center mb-4\">\n                <i className=\"fas fa-exclamation-triangle me-2\"></i>\n                <span>Vous avez des modifications non sauvegardées</span>\n              </div>\n            )}\n\n            {/* Main Form Card */}\n            <div className=\"card shadow-sm border-0 enhanced-card\">\n              <div className=\"card-header bg-gradient-primary text-white\">\n                <h5 className=\"card-title mb-0 d-flex align-items-center\">\n                  <i className=\"fas fa-file-edit me-2\"></i>\n                  Informations du document\n                </h5>\n              </div>\n\n              <div className=\"card-body p-4\">\n                <form onSubmit={handleSubmit}>\n                  {/* Erreurs générales */}\n                  {errors.non_field_errors && (\n                    <div className=\"alert alert-danger\">\n                      <i className=\"fas fa-exclamation-triangle me-2\"></i>\n                      {errors.non_field_errors[0]}\n                    </div>\n                  )}\n\n                  {/* Informations du fichier actuel */}\n                  <div className=\"mb-4\">\n                    <label className=\"form-label fw-semibold\">\n                      <i className=\"fas fa-info-circle me-2 text-info\"></i>\n                      Fichier actuel\n                    </label>\n                    <div className=\"enhanced-file-info-card\">\n                      <div className=\"file-icon-section\">\n                        <i className={`${getCurrentTypeInfo().icon} fa-2x ${getCurrentTypeInfo().color}`}></i>\n                      </div>\n                      <div className=\"file-details-section\">\n                        <div className=\"file-name-display\">\n                          <strong className=\"text-primary\">{document.title}</strong>\n                          <span className=\"file-extension-badge ms-2\">{document.file_extension}</span>\n                        </div>\n                        <div className=\"file-meta mt-2\">\n                          <span className=\"file-size-info me-3\">\n                            <i className=\"fas fa-weight-hanging me-1 text-muted\"></i>\n                            <small>{document.file_size ? documentService.formatFileSize(document.file_size) : 'Taille inconnue'}</small>\n                          </span>\n                          <span className=\"file-upload-date me-3\">\n                            <i className=\"fas fa-calendar me-1 text-muted\"></i>\n                            <small>{new Date(document.uploaded_at).toLocaleDateString('fr-FR')}</small>\n                          </span>\n                          <span className=\"file-author\">\n                            <i className=\"fas fa-user me-1 text-muted\"></i>\n                            <small>{document.user_full_name || document.user_email}</small>\n                          </span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Titre */}\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"title\" className=\"form-label fw-semibold\">\n                      <i className=\"fas fa-heading me-2 text-primary\"></i>\n                      Titre du document *\n                    </label>\n                    <div className=\"input-group enhanced-input-group\">\n                      <span className=\"input-group-text bg-light\">\n                        <i className=\"fas fa-file-signature text-muted\"></i>\n                      </span>\n                      <input\n                        type=\"text\"\n                        id=\"title\"\n                        name=\"title\"\n                        className={`form-control enhanced-input ${errors.title ? 'is-invalid' : ''}`}\n                        value={formData.title}\n                        onChange={handleInputChange}\n                        placeholder=\"Entrez le titre du document\"\n                        required\n                        disabled={saving}\n                        maxLength=\"200\"\n                      />\n                      <span className=\"input-group-text bg-light\">\n                        <small className={`text-muted ${formData.title.length > 180 ? 'text-warning' : ''}`}>\n                          {formData.title.length}/200\n                        </small>\n                      </span>\n                    </div>\n                    {errors.title && (\n                      <div className=\"invalid-feedback d-block\">\n                        <i className=\"fas fa-exclamation-circle me-1\"></i>\n                        {errors.title}\n                      </div>\n                    )}\n                    <div className=\"form-text\">\n                      <i className=\"fas fa-lightbulb me-1 text-warning\"></i>\n                      Choisissez un titre descriptif et unique pour votre document\n                    </div>\n                  </div>\n\n                  {/* Type de document */}\n                  <div className=\"mb-3\">\n                    <label htmlFor=\"document_type\" className=\"form-label fw-semibold\">\n                      <i className=\"fas fa-tags me-2 text-success\"></i>\n                      Catégorie du document\n                      <span className=\"badge bg-info ms-2\">Auto-détecté</span>\n                    </label>\n                    <div className=\"input-group enhanced-input-group\">\n                      <span className=\"input-group-text bg-light\">\n                        <i className={`${getCurrentTypeInfo().icon} ${getCurrentTypeInfo().color}`}></i>\n                      </span>\n                      <select\n                        id=\"document_type\"\n                        name=\"document_type\"\n                        className={`form-select enhanced-select ${errors.document_type ? 'is-invalid' : ''}`}\n                        value={formData.document_type}\n                        onChange={handleInputChange}\n                        disabled={saving}\n                      >\n                        {documentTypes.map(type => (\n                          <option key={type.value} value={type.value}>\n                            {type.label}\n                          </option>\n                        ))}\n                      </select>\n                    </div>\n                    <div className=\"form-text\">\n                      <i className=\"fas fa-folder me-1 text-info\"></i>\n                      Sélectionnez la catégorie qui correspond le mieux à votre document\n                    </div>\n                    {errors.document_type && (\n                      <div className=\"invalid-feedback d-block\">\n                        <i className=\"fas fa-exclamation-circle me-1\"></i>\n                        {errors.document_type}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Description */}\n                  <div className=\"mb-4\">\n                    <label htmlFor=\"description\" className=\"form-label fw-semibold\">\n                      <i className=\"fas fa-align-left me-2 text-info\"></i>\n                      Description\n                      <span className=\"badge bg-secondary ms-2\">Optionnel</span>\n                    </label>\n                    <div className=\"enhanced-textarea-container\">\n                      <textarea\n                        id=\"description\"\n                        name=\"description\"\n                        className={`form-control enhanced-textarea ${errors.description ? 'is-invalid' : ''}`}\n                        rows=\"4\"\n                        value={formData.description}\n                        onChange={handleInputChange}\n                        placeholder=\"Ajoutez une description détaillée de votre document...\"\n                        disabled={saving}\n                        maxLength=\"1000\"\n                      />\n                      <div className=\"textarea-footer\">\n                        <div className=\"form-text\">\n                          <i className=\"fas fa-info-circle me-1 text-info\"></i>\n                          Décrivez le contenu et l'objectif de ce document\n                        </div>\n                        <small className={`text-muted ${formData.description.length > 900 ? 'text-warning' : ''}`}>\n                          {formData.description.length}/1000\n                        </small>\n                      </div>\n                    </div>\n                    {errors.description && (\n                      <div className=\"invalid-feedback d-block\">\n                        <i className=\"fas fa-exclamation-circle me-1\"></i>\n                        {errors.description}\n                      </div>\n                    )}\n                  </div>\n\n                  {/* Actions */}\n                  <div className=\"enhanced-actions-section\">\n                    <div className=\"d-flex justify-content-between align-items-center\">\n                      <div>\n                        {hasChanges && (\n                          <button\n                            type=\"button\"\n                            className=\"btn btn-outline-warning btn-enhanced\"\n                            onClick={resetForm}\n                            disabled={saving}\n                          >\n                            <i className=\"fas fa-undo me-2\"></i>\n                            Réinitialiser\n                          </button>\n                        )}\n                      </div>\n\n                      <div className=\"d-flex gap-3\">\n                        <button\n                          type=\"button\"\n                          className=\"btn btn-secondary btn-enhanced\"\n                          onClick={handleCancel}\n                          disabled={saving}\n                        >\n                          <i className=\"fas fa-times me-2\"></i>\n                          Annuler\n                        </button>\n\n                        <button\n                          type=\"submit\"\n                          className={`btn btn-enhanced ${hasChanges ? 'btn-warning' : 'btn-outline-primary'}`}\n                          disabled={saving || !hasChanges}\n                        >\n                          {saving ? (\n                            <>\n                              <i className=\"fas fa-spinner fa-spin me-2\"></i>\n                              Sauvegarde...\n                            </>\n                          ) : hasChanges ? (\n                            <>\n                              <i className=\"fas fa-save me-2\"></i>\n                              Sauvegarder les modifications\n                            </>\n                          ) : (\n                            <>\n                              <i className=\"fas fa-check me-2\"></i>\n                              Aucune modification\n                            </>\n                          )}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </form>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentEdit;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}