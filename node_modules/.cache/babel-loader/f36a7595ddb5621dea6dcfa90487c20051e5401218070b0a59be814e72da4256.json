{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useApp}from'../contexts/AppContext';import{useNavigate}from'react-router-dom';import authService from'../services/authService';import adminService from'../services/adminService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ModernNavbar=()=>{var _state$user,_state$user2,_state$user3,_state$user4;const[showUserMenu,setShowUserMenu]=useState(false);const[isAdmin,setIsAdmin]=useState(false);const{state}=useApp();const navigate=useNavigate();// Vérifier si l'utilisateur est admin\nuseEffect(()=>{const checkAdminStatus=async()=>{const adminStatus=await adminService.checkAdminStatus();setIsAdmin(adminStatus);};checkAdminStatus();},[]);const handleLogout=()=>{authService.logout();};const goToAdmin=()=>{navigate('/admin-panel');setShowUserMenu(false);};const getInitials=user=>{if(!user)return'U';const firstName=user.first_name||'';const lastName=user.last_name||'';return(firstName.charAt(0)+lastName.charAt(0)).toUpperCase()||user.email.charAt(0).toUpperCase();};return/*#__PURE__*/_jsxs(\"nav\",{className:\"modern-navbar enhanced-navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"navbar-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"navbar-brand-section\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"brand-logo\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo-icon\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-cloud-upload-alt\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"brand-text\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"brand-name\",children:\"Espace Client\"}),/*#__PURE__*/_jsx(\"span\",{className:\"brand-tagline\",children:\"Gestion documentaire\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-nav\"}),/*#__PURE__*/_jsx(\"div\",{className:\"navbar-actions\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"user-menu-container\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"user-menu-trigger\",onClick:()=>setShowUserMenu(!showUserMenu),children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar\",children:getInitials(state.user)}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-info\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"user-name\",children:((_state$user=state.user)===null||_state$user===void 0?void 0:_state$user.full_name)||((_state$user2=state.user)===null||_state$user2===void 0?void 0:_state$user2.email)||'Utilisateur'}),/*#__PURE__*/_jsx(\"span\",{className:\"user-role\",children:\"Utilisateur\"})]}),/*#__PURE__*/_jsx(\"i\",{className:`fas fa-chevron-${showUserMenu?'up':'down'} chevron-icon`})]}),showUserMenu&&/*#__PURE__*/_jsxs(\"div\",{className:\"user-dropdown\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-header\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-avatar large\",children:getInitials(state.user)}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-details\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"user-name\",children:((_state$user3=state.user)===null||_state$user3===void 0?void 0:_state$user3.full_name)||'Utilisateur'}),/*#__PURE__*/_jsx(\"div\",{className:\"user-email\",children:(_state$user4=state.user)===null||_state$user4===void 0?void 0:_state$user4.email})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-menu-items\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:()=>navigate('/profile'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-user\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Mon Profil\"})]}),isAdmin&&/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",onClick:goToAdmin,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Administration\"})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-question-circle\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Aide\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-divider\"}),/*#__PURE__*/_jsxs(\"button\",{className:\"dropdown-item logout-item\",onClick:handleLogout,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-sign-out-alt\"}),/*#__PURE__*/_jsx(\"span\",{children:\"D\\xE9connexion\"})]})]})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"breadcrumb-container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"breadcrumb\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"breadcrumb-item active\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home\"}),\"Espace Client\"]})})})]});};export default ModernNavbar;","map":{"version":3,"names":["React","useState","useEffect","useApp","useNavigate","authService","adminService","jsx","_jsx","jsxs","_jsxs","ModernNavbar","_state$user","_state$user2","_state$user3","_state$user4","showUserMenu","setShowUserMenu","isAdmin","setIsAdmin","state","navigate","checkAdminStatus","adminStatus","handleLogout","logout","goToAdmin","getInitials","user","firstName","first_name","lastName","last_name","charAt","toUpperCase","email","className","children","onClick","full_name"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/components/ModernNavbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useApp } from '../contexts/AppContext';\nimport { useNavigate } from 'react-router-dom';\nimport authService from '../services/authService';\nimport adminService from '../services/adminService';\n\nconst ModernNavbar = () => {\n  const [showUserMenu, setShowUserMenu] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const { state } = useApp();\n  const navigate = useNavigate();\n\n  // Vérifier si l'utilisateur est admin\n  useEffect(() => {\n    const checkAdminStatus = async () => {\n      const adminStatus = await adminService.checkAdminStatus();\n      setIsAdmin(adminStatus);\n    };\n    checkAdminStatus();\n  }, []);\n\n  const handleLogout = () => {\n    authService.logout();\n  };\n\n  const goToAdmin = () => {\n    navigate('/admin-panel');\n    setShowUserMenu(false);\n  };\n\n  const getInitials = (user) => {\n    if (!user) return 'U';\n    const firstName = user.first_name || '';\n    const lastName = user.last_name || '';\n    return (firstName.charAt(0) + lastName.charAt(0)).toUpperCase() || user.email.charAt(0).toUpperCase();\n  };\n\n  return (\n    <nav className=\"modern-navbar enhanced-navbar\">\n      <div className=\"navbar-container\">\n        {/* Logo et Brand */}\n        <div className=\"navbar-brand-section\">\n          <div className=\"brand-logo\">\n            <div className=\"logo-icon\">\n              <i className=\"fas fa-cloud-upload-alt\"></i>\n            </div>\n            <div className=\"brand-text\">\n              <span className=\"brand-name\">Espace Client</span>\n              <span className=\"brand-tagline\">Gestion documentaire</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Navigation Links */}\n        <div className=\"navbar-nav\">\n          {/* Navigation links supprimés */}\n        </div>\n\n        {/* Actions et Profil */}\n        <div className=\"navbar-actions\">\n          {/* User Menu */}\n          <div className=\"user-menu-container\">\n            <button \n              className=\"user-menu-trigger\"\n              onClick={() => setShowUserMenu(!showUserMenu)}\n            >\n              <div className=\"user-avatar\">\n                {getInitials(state.user)}\n              </div>\n              <div className=\"user-info\">\n                <span className=\"user-name\">\n                  {state.user?.full_name || state.user?.email || 'Utilisateur'}\n                </span>\n                <span className=\"user-role\">Utilisateur</span>\n              </div>\n              <i className={`fas fa-chevron-${showUserMenu ? 'up' : 'down'} chevron-icon`}></i>\n            </button>\n\n            {/* Dropdown Menu */}\n            {showUserMenu && (\n              <div className=\"user-dropdown\">\n                <div className=\"dropdown-header\">\n                  <div className=\"user-avatar large\">\n                    {getInitials(state.user)}\n                  </div>\n                  <div className=\"user-details\">\n                    <div className=\"user-name\">{state.user?.full_name || 'Utilisateur'}</div>\n                    <div className=\"user-email\">{state.user?.email}</div>\n                  </div>\n                </div>\n                \n                <div className=\"dropdown-divider\"></div>\n                \n                <div className=\"dropdown-menu-items\">\n                  <button className=\"dropdown-item\" onClick={() => navigate('/profile')}>\n                    <i className=\"fas fa-user\"></i>\n                    <span>Mon Profil</span>\n                  </button>\n                  {isAdmin && (\n                    <button className=\"dropdown-item\" onClick={goToAdmin}>\n                      <i className=\"fas fa-shield-alt\"></i>\n                      <span>Administration</span>\n                    </button>\n                  )}\n                  <button className=\"dropdown-item\">\n                    <i className=\"fas fa-question-circle\"></i>\n                    <span>Aide</span>\n                  </button>\n                </div>\n                \n                <div className=\"dropdown-divider\"></div>\n                \n                <button className=\"dropdown-item logout-item\" onClick={handleLogout}>\n                  <i className=\"fas fa-sign-out-alt\"></i>\n                  <span>Déconnexion</span>\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n\n      {/* Breadcrumb */}\n      <div className=\"breadcrumb-container\">\n        <div className=\"breadcrumb\">\n          <span className=\"breadcrumb-item active\">\n            <i className=\"fas fa-home\"></i>\n            Espace Client\n          </span>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default ModernNavbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}