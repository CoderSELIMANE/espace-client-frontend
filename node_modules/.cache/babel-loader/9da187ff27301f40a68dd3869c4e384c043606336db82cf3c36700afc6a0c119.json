{"ast":null,"code":"import React from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./pages/Login';import Register from'./pages/Register';import Dashboard from'./pages/Dashboard';import Profile from'./pages/Profile';import AdminPanel from'./pages/AdminPanel';import DocumentEdit from'./pages/DocumentEdit';import authService from'./services/authService';import{AppProvider}from'./contexts/AppContext';import NotificationToast from'./components/NotificationToast';// Composant pour protéger les routes\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{children}=_ref;return authService.isAuthenticated()?children:/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};// Composant pour rediriger les utilisateurs connectés\nconst PublicRoute=_ref2=>{let{children}=_ref2;return!authService.isAuthenticated()?children:/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"});};function App(){return/*#__PURE__*/_jsx(AppProvider,{children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(NotificationToast,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:authService.isAuthenticated()?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/profile\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Profile,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/document/edit/:id\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(DocumentEdit,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin-panel\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AdminPanel,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 d-flex align-items-center justify-content-center bg-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"display-1 text-muted\",children:\"404\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Page non trouv\\xE9e\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"La page que vous recherchez n'existe pas.\"}),/*#__PURE__*/_jsxs(\"a\",{href:\"/\",className:\"btn btn-primary\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-home me-2\"}),\"Retour \\xE0 l'accueil\"]})]})})})]})]})})});}export default App;","map":{"version":3,"names":["React","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","Dashboard","Profile","AdminPanel","DocumentEdit","authService","AppProvider","NotificationToast","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","isAuthenticated","to","PublicRoute","_ref2","App","className","path","element","href"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/App.js"],"sourcesContent":["import React from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Login from './pages/Login';\nimport Register from './pages/Register';\nimport Dashboard from './pages/Dashboard';\nimport Profile from './pages/Profile';\nimport AdminPanel from './pages/AdminPanel';\n\nimport DocumentEdit from './pages/DocumentEdit';\nimport authService from './services/authService';\nimport { AppProvider } from './contexts/AppContext';\nimport NotificationToast from './components/NotificationToast';\n\n// Composant pour protéger les routes\nconst ProtectedRoute = ({ children }) => {\n  return authService.isAuthenticated() ? children : <Navigate to=\"/login\" />;\n};\n\n// Composant pour rediriger les utilisateurs connectés\nconst PublicRoute = ({ children }) => {\n  return !authService.isAuthenticated() ? children : <Navigate to=\"/dashboard\" />;\n};\n\nfunction App() {\n  return (\n    <AppProvider>\n      <Router>\n        <div className=\"App\">\n          <NotificationToast />\n          <Routes>\n          {/* Route par défaut */}\n          <Route \n            path=\"/\" \n            element={\n              authService.isAuthenticated() ? \n                <Navigate to=\"/dashboard\" /> : \n                <Navigate to=\"/login\" />\n            } \n          />\n          \n          {/* Routes publiques */}\n          <Route \n            path=\"/login\" \n            element={\n              <PublicRoute>\n                <Login />\n              </PublicRoute>\n            } \n          />\n          <Route \n            path=\"/register\" \n            element={\n              <PublicRoute>\n                <Register />\n              </PublicRoute>\n            } \n          />\n          \n          {/* Routes protégées */}\n          <Route\n            path=\"/dashboard\"\n            element={\n              <ProtectedRoute>\n                <Dashboard />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/profile\"\n            element={\n              <ProtectedRoute>\n                <Profile />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/document/edit/:id\"\n            element={\n              <ProtectedRoute>\n                <DocumentEdit />\n              </ProtectedRoute>\n            }\n          />\n          <Route\n            path=\"/admin-panel\"\n            element={\n              <ProtectedRoute>\n                <AdminPanel />\n              </ProtectedRoute>\n            }\n          />\n\n\n\n          {/* Route 404 */}\n          <Route \n            path=\"*\" \n            element={\n              <div className=\"min-vh-100 d-flex align-items-center justify-content-center bg-light\">\n                <div className=\"text-center\">\n                  <h1 className=\"display-1 text-muted\">404</h1>\n                  <h2>Page non trouvée</h2>\n                  <p className=\"text-muted\">La page que vous recherchez n'existe pas.</p>\n                  <a href=\"/\" className=\"btn btn-primary\">\n                    <i className=\"fas fa-home me-2\"></i>\n                    Retour à l'accueil\n                  </a>\n                </div>\n              </div>\n            } \n          />\n          </Routes>\n        </div>\n      </Router>\n    </AppProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}