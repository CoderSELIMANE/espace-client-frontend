{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\modifier\\\\Gestion_bibliotheque\\\\espace_client_app\\\\frontend\\\\src\\\\pages\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport authService from '../services/authService';\nimport documentService from '../services/documentService';\nimport ModernDocumentList from '../components/ModernDocumentList';\nimport DocumentUpload from '../components/DocumentUpload';\nimport SearchAndFilter from '../components/SearchAndFilter';\nimport SkeletonLoader from '../components/SkeletonLoader';\nimport Pagination from '../components/Pagination';\nimport HeroSection from '../components/HeroSection';\nimport ModernNavbar from '../components/ModernNavbar';\nimport FloatingActionButton from '../components/FloatingActionButton';\nimport SimpleDocumentViewer from '../components/SimpleDocumentViewer';\nimport usePagination from '../hooks/usePagination';\nimport { useApp } from '../contexts/AppContext';\nimport { getUserPermissions } from '../utils/permissions';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [showUpload, setShowUpload] = useState(false);\n  const [showAdvancedStats, setShowAdvancedStats] = useState(false);\n  const [viewingDocument, setViewingDocument] = useState(null);\n  const navigate = useNavigate();\n  const {\n    state,\n    actions\n  } = useApp();\n\n  // Obtenir les permissions de l'utilisateur\n  const userPermissions = getUserPermissions(state.user);\n\n  // Get filtered documents\n  const filteredDocuments = actions.getFilteredDocuments();\n\n  // Pagination\n  const {\n    currentPage,\n    totalPages,\n    itemsPerPage,\n    paginatedData,\n    totalItems,\n    goToPage,\n    changeItemsPerPage\n  } = usePagination(filteredDocuments, 6);\n  useEffect(() => {\n    // V√©rifier l'authentification\n    if (!authService.isAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n    loadUserData();\n    loadDocuments();\n  }, [navigate]);\n\n  // Log de debug pour voir combien de documents sont re√ßus\n  useEffect(() => {\n    console.log('üìä Documents Dashboard:', {\n      total: state.documents.length,\n      filtered: filteredDocuments.length,\n      paginated: paginatedData.length,\n      currentPage: currentPage,\n      totalPages: totalPages,\n      itemsPerPage: itemsPerPage\n    });\n  }, [state.documents, filteredDocuments, paginatedData, currentPage, totalPages, itemsPerPage]);\n  const loadUserData = async () => {\n    try {\n      actions.setLoading(true);\n      const userData = await authService.getProfile();\n      actions.setUser(userData);\n    } catch (err) {\n      console.error('Erreur lors du chargement du profil:', err);\n      actions.showNotification('error', 'Erreur lors du chargement du profil');\n    } finally {\n      actions.setLoading(false);\n    }\n  };\n  const loadDocuments = async () => {\n    try {\n      console.log('üîÑ D√©but du chargement des documents...');\n      actions.setLoading(true);\n      const documentsData = await documentService.getDocuments();\n      console.log('üìä Donn√©es re√ßues du serveur:', documentsData);\n      const documents = documentsData.results || documentsData;\n      console.log('üìã Documents √† d√©finir:', documents);\n      actions.setDocuments(documents);\n      console.log('‚úÖ Documents d√©finis dans le contexte');\n    } catch (err) {\n      console.error('‚ùå Erreur lors du chargement des documents:', err);\n      actions.showNotification('error', 'Erreur lors du chargement des documents');\n    } finally {\n      actions.setLoading(false);\n    }\n  };\n  const handleLogout = () => {\n    authService.logout();\n  };\n  const handleUploadSuccess = async document => {\n    console.log('üìÑ Document ajout√© avec succ√®s:', document);\n    setShowUpload(false);\n    actions.showNotification('success', 'Document ajout√© avec succ√®s !');\n\n    // Solution √©l√©gante : redirection vers la m√™me page pour forcer le rechargement\n    console.log('üîÑ Redirection vers dashboard pour synchronisation...');\n    navigate('/dashboard', {\n      replace: true\n    });\n\n    // Forcer le rechargement des donn√©es apr√®s la navigation\n    setTimeout(() => {\n      loadDocuments();\n    }, 100);\n  };\n  const handleViewDocument = document => {\n    // Pour les documents de type \"fiche\" et \"autre\", ouvrir dans un nouvel onglet\n    if (document.document_type === 'fiche' || document.document_type === 'other') {\n      const token = localStorage.getItem('access_token');\n      const previewUrl = `http://localhost:8000/documents/${document.id}/preview/?token=${token}`;\n      console.log(`üîó Ouverture dans nouvel onglet - Type: ${document.document_type}, URL: ${previewUrl}`);\n\n      // Ouvrir dans un nouvel onglet\n      window.open(previewUrl, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Pour les autres types (PDF, images), utiliser le visualiseur modal\n    console.log(`üìã Ouverture dans visualiseur modal - Type: ${document.document_type}`);\n    setViewingDocument(document);\n  };\n  const handleCloseViewer = () => {\n    setViewingDocument(null);\n  };\n  const handleDeleteDocument = async documentId => {\n    try {\n      await documentService.deleteDocument(documentId);\n      actions.removeDocument(documentId);\n      // Recharger les documents pour s'assurer de la synchronisation\n      await loadDocuments();\n      actions.showNotification('success', 'Document supprim√© avec succ√®s !');\n    } catch (err) {\n      console.error('Erreur lors de la suppression:', err);\n      actions.showNotification('error', 'Erreur lors de la suppression du document');\n      throw err;\n    }\n  };\n  const handleUpdateDocument = async () => {\n    // Recharger les documents apr√®s une modification\n    await loadDocuments();\n  };\n  if (state.loading && !state.user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"d-flex justify-content-center align-items-center min-vh-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner-border text-primary\",\n        role: \"status\",\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"visually-hidden\",\n          children: \"Chargement...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-vh-100\",\n    children: [/*#__PURE__*/_jsxDEV(ModernNavbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(HeroSection, {\n      user: state.user\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container py-4\",\n      children: [/*#__PURE__*/_jsxDEV(SearchAndFilter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex justify-content-between align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"enhanced-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-book-open me-2 text-primary\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 17\n              }, this), \"Biblioth\\xE8que Partag\\xE9e\", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"badge bg-primary ms-2 enhanced-badge\",\n                children: totalItems\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), state.documents.length !== totalItems && /*#__PURE__*/_jsxDEV(\"small\", {\n                className: \"text-muted ms-2\",\n                children: [\"(sur \", state.documents.length, \" total)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 15\n            }, this), userPermissions.canAdd && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-success enhanced-btn\",\n              onClick: () => setShowUpload(true),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-plus me-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 19\n              }, this), \"Ajouter un document\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), showUpload && userPermissions.canAdd && /*#__PURE__*/_jsxDEV(DocumentUpload, {\n        onClose: () => setShowUpload(false),\n        onSuccess: handleUploadSuccess\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12\",\n          children: state.loading ? /*#__PURE__*/_jsxDEV(SkeletonLoader, {\n            count: 6\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ModernDocumentList, {\n              documents: paginatedData,\n              onDelete: handleDeleteDocument,\n              onUpdate: handleUpdateDocument,\n              onView: handleViewDocument\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 17\n            }, this), totalItems > 6 && /*#__PURE__*/_jsxDEV(Pagination, {\n              currentPage: currentPage,\n              totalPages: totalPages,\n              totalItems: totalItems,\n              itemsPerPage: itemsPerPage,\n              onPageChange: goToPage,\n              onItemsPerPageChange: changeItemsPerPage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), userPermissions.canAdd && /*#__PURE__*/_jsxDEV(FloatingActionButton, {\n        onClick: () => setShowUpload(true),\n        icon: \"fas fa-plus\",\n        tooltip: \"Ajouter un document\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 11\n      }, this), viewingDocument && /*#__PURE__*/_jsxDEV(SimpleDocumentViewer, {\n        document: viewingDocument,\n        onClose: handleCloseViewer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"RpcUTSvukqECEFDYOC1K4+PvAcs=\", false, function () {\n  return [useNavigate, useApp, usePagination];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","authService","documentService","ModernDocumentList","DocumentUpload","SearchAndFilter","SkeletonLoader","Pagination","HeroSection","ModernNavbar","FloatingActionButton","SimpleDocumentViewer","usePagination","useApp","getUserPermissions","jsxDEV","_jsxDEV","Fragment","_Fragment","Dashboard","_s","showUpload","setShowUpload","showAdvancedStats","setShowAdvancedStats","viewingDocument","setViewingDocument","navigate","state","actions","userPermissions","user","filteredDocuments","getFilteredDocuments","currentPage","totalPages","itemsPerPage","paginatedData","totalItems","goToPage","changeItemsPerPage","isAuthenticated","loadUserData","loadDocuments","console","log","total","documents","length","filtered","paginated","setLoading","userData","getProfile","setUser","err","error","showNotification","documentsData","getDocuments","results","setDocuments","handleLogout","logout","handleUploadSuccess","document","replace","setTimeout","handleViewDocument","document_type","token","localStorage","getItem","previewUrl","id","window","open","handleCloseViewer","handleDeleteDocument","documentId","deleteDocument","removeDocument","handleUpdateDocument","loading","className","children","role","fileName","_jsxFileName","lineNumber","columnNumber","canAdd","onClick","onClose","onSuccess","count","onDelete","onUpdate","onView","onPageChange","onItemsPerPageChange","icon","tooltip","_c","$RefreshReg$"],"sources":["C:/Users/PC/Desktop/modifier/Gestion_bibliotheque/espace_client_app/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport authService from '../services/authService';\nimport documentService from '../services/documentService';\nimport ModernDocumentList from '../components/ModernDocumentList';\nimport DocumentUpload from '../components/DocumentUpload';\nimport SearchAndFilter from '../components/SearchAndFilter';\n\n\nimport SkeletonLoader from '../components/SkeletonLoader';\nimport Pagination from '../components/Pagination';\nimport HeroSection from '../components/HeroSection';\nimport ModernNavbar from '../components/ModernNavbar';\nimport FloatingActionButton from '../components/FloatingActionButton';\n\nimport SimpleDocumentViewer from '../components/SimpleDocumentViewer';\n\nimport usePagination from '../hooks/usePagination';\nimport { useApp } from '../contexts/AppContext';\nimport { getUserPermissions } from '../utils/permissions';\n\n\nconst Dashboard = () => {\n  const [showUpload, setShowUpload] = useState(false);\n  const [showAdvancedStats, setShowAdvancedStats] = useState(false);\n  const [viewingDocument, setViewingDocument] = useState(null);\n  const navigate = useNavigate();\n  const { state, actions } = useApp();\n\n  // Obtenir les permissions de l'utilisateur\n  const userPermissions = getUserPermissions(state.user);\n\n  // Get filtered documents\n  const filteredDocuments = actions.getFilteredDocuments();\n\n  // Pagination\n  const {\n    currentPage,\n    totalPages,\n    itemsPerPage,\n    paginatedData,\n    totalItems,\n    goToPage,\n    changeItemsPerPage\n  } = usePagination(filteredDocuments, 6);\n\n  useEffect(() => {\n    // V√©rifier l'authentification\n    if (!authService.isAuthenticated()) {\n      navigate('/login');\n      return;\n    }\n\n    loadUserData();\n    loadDocuments();\n  }, [navigate]);\n\n  // Log de debug pour voir combien de documents sont re√ßus\n  useEffect(() => {\n    console.log('üìä Documents Dashboard:', {\n      total: state.documents.length,\n      filtered: filteredDocuments.length,\n      paginated: paginatedData.length,\n      currentPage: currentPage,\n      totalPages: totalPages,\n      itemsPerPage: itemsPerPage\n    });\n  }, [state.documents, filteredDocuments, paginatedData, currentPage, totalPages, itemsPerPage]);\n\n  const loadUserData = async () => {\n    try {\n      actions.setLoading(true);\n      const userData = await authService.getProfile();\n      actions.setUser(userData);\n    } catch (err) {\n      console.error('Erreur lors du chargement du profil:', err);\n      actions.showNotification('error', 'Erreur lors du chargement du profil');\n    } finally {\n      actions.setLoading(false);\n    }\n  };\n\n  const loadDocuments = async () => {\n    try {\n      console.log('üîÑ D√©but du chargement des documents...');\n      actions.setLoading(true);\n      const documentsData = await documentService.getDocuments();\n      console.log('üìä Donn√©es re√ßues du serveur:', documentsData);\n      const documents = documentsData.results || documentsData;\n      console.log('üìã Documents √† d√©finir:', documents);\n      actions.setDocuments(documents);\n      console.log('‚úÖ Documents d√©finis dans le contexte');\n    } catch (err) {\n      console.error('‚ùå Erreur lors du chargement des documents:', err);\n      actions.showNotification('error', 'Erreur lors du chargement des documents');\n    } finally {\n      actions.setLoading(false);\n    }\n  };\n\n  const handleLogout = () => {\n    authService.logout();\n  };\n\n  const handleUploadSuccess = async (document) => {\n    console.log('üìÑ Document ajout√© avec succ√®s:', document);\n    setShowUpload(false);\n    actions.showNotification('success', 'Document ajout√© avec succ√®s !');\n\n    // Solution √©l√©gante : redirection vers la m√™me page pour forcer le rechargement\n    console.log('üîÑ Redirection vers dashboard pour synchronisation...');\n    navigate('/dashboard', { replace: true });\n\n    // Forcer le rechargement des donn√©es apr√®s la navigation\n    setTimeout(() => {\n      loadDocuments();\n    }, 100);\n  };\n\n  const handleViewDocument = (document) => {\n    // Pour les documents de type \"fiche\" et \"autre\", ouvrir dans un nouvel onglet\n    if (document.document_type === 'fiche' || document.document_type === 'other') {\n      const token = localStorage.getItem('access_token');\n      const previewUrl = `http://localhost:8000/documents/${document.id}/preview/?token=${token}`;\n\n      console.log(`üîó Ouverture dans nouvel onglet - Type: ${document.document_type}, URL: ${previewUrl}`);\n\n      // Ouvrir dans un nouvel onglet\n      window.open(previewUrl, '_blank', 'noopener,noreferrer');\n      return;\n    }\n\n    // Pour les autres types (PDF, images), utiliser le visualiseur modal\n    console.log(`üìã Ouverture dans visualiseur modal - Type: ${document.document_type}`);\n    setViewingDocument(document);\n  };\n\n  const handleCloseViewer = () => {\n    setViewingDocument(null);\n  };\n\n  const handleDeleteDocument = async (documentId) => {\n    try {\n      await documentService.deleteDocument(documentId);\n      actions.removeDocument(documentId);\n      // Recharger les documents pour s'assurer de la synchronisation\n      await loadDocuments();\n      actions.showNotification('success', 'Document supprim√© avec succ√®s !');\n    } catch (err) {\n      console.error('Erreur lors de la suppression:', err);\n      actions.showNotification('error', 'Erreur lors de la suppression du document');\n      throw err;\n    }\n  };\n\n  const handleUpdateDocument = async () => {\n    // Recharger les documents apr√®s une modification\n    await loadDocuments();\n  };\n\n  if (state.loading && !state.user) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center min-vh-100\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Chargement...</span>\n        </div>\n      </div>\n    );\n  }\n\n\n\n  return (\n    <div className=\"min-vh-100\">\n      {/* Modern Navbar */}\n      <ModernNavbar />\n\n      {/* Hero Section */}\n      <HeroSection user={state.user} />\n\n      {/* Main Content */}\n      <div className=\"container py-4\">\n\n\n\n\n        {/* Search and Filter */}\n        <SearchAndFilter />\n\n\n\n        {/* Actions */}\n        <div className=\"row mb-4\">\n          <div className=\"col-12\">\n            <div className=\"d-flex justify-content-between align-items-center\">\n              <h2 className=\"enhanced-title\">\n                <i className=\"fas fa-book-open me-2 text-primary\"></i>\n                Biblioth√®que Partag√©e\n                <span className=\"badge bg-primary ms-2 enhanced-badge\">{totalItems}</span>\n                {state.documents.length !== totalItems && (\n                  <small className=\"text-muted ms-2\">\n                    (sur {state.documents.length} total)\n                  </small>\n                )}\n              </h2>\n\n              {userPermissions.canAdd && (\n                <button\n                  className=\"btn btn-success enhanced-btn\"\n                  onClick={() => setShowUpload(true)}\n                >\n                  <i className=\"fas fa-plus me-2\"></i>\n                  Ajouter un document\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n\n        {/* Upload Modal - Seulement pour les admins */}\n        {showUpload && userPermissions.canAdd && (\n          <DocumentUpload\n            onClose={() => setShowUpload(false)}\n            onSuccess={handleUploadSuccess}\n          />\n        )}\n\n        {/* Documents List */}\n        <div className=\"row\">\n          <div className=\"col-12\">\n            {state.loading ? (\n              <SkeletonLoader count={6} />\n            ) : (\n              <>\n                <ModernDocumentList\n                  documents={paginatedData}\n                  onDelete={handleDeleteDocument}\n                  onUpdate={handleUpdateDocument}\n                  onView={handleViewDocument}\n                />\n\n                {/* Pagination */}\n                {totalItems > 6 && (\n                  <Pagination\n                    currentPage={currentPage}\n                    totalPages={totalPages}\n                    totalItems={totalItems}\n                    itemsPerPage={itemsPerPage}\n                    onPageChange={goToPage}\n                    onItemsPerPageChange={changeItemsPerPage}\n                  />\n                )}\n              </>\n            )}\n          </div>\n        </div>\n\n\n\n        {/* Floating Action Button - Seulement pour les admins */}\n        {userPermissions.canAdd && (\n          <FloatingActionButton\n            onClick={() => setShowUpload(true)}\n            icon=\"fas fa-plus\"\n            tooltip=\"Ajouter un document\"\n          />\n        )}\n\n        {/* Visualiseur de documents */}\n        {viewingDocument && (\n          <SimpleDocumentViewer\n            document={viewingDocument}\n            onClose={handleCloseViewer}\n          />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}